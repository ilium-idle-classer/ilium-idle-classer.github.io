(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{141:function(e,t,i){},218:function(e,t,i){},219:function(e,t,i){"use strict";i.r(t);var a,n=i(0),s=i.n(n),r=i(32),c=i.n(r),o=(i(141),i(83)),l=i(226),u=i(232),d=i(35),h=i(1),b=i(233),j=i(228),v=i(230),O=i(231),m=i(8),g=i(21),f="playerAttack",p="bossAttack";function x(e){var t=e.gameState.battle;t&&t.playerAttack()}function y(e){var t=e.gameState.battle;t&&t.bossAttack()}!function(e){e.experienceGain="experienceGain",e.prestigePointGain="prestigePointGain",e.statGain="statGain",e.prestigeStatsGain="prestigeStatsGain"}(a||(a={}));var w="battleOver";function S(e){var t=e.gameState.battle;t&&(t.player.isDefeated()?k(e.gameState):t.boss.isDefeated()&&(!function(e,t){var i=e.modifierManager.modifyDecimal(t.boss.prestigePoints,a.prestigePointGain);e.prestige.addPoints(i),e.player.lastBossDefeated=t.boss.id,e.history.addDefeatedBoss(t.boss.id)}(e.gameState,t),k(e.gameState)))}function k(e){e.removeSubscriptions([w,f,p]),e.battle=void 0}var T,M,L=i(11),C=i(10),q=i(12),I=i.n(q),E=function(){function e(t){Object(m.a)(this,e),this.hp=void 0,this.attackValue=void 0,this.defenseValue=void 0,this.bonusDamage=void 0,this.attackInterval=void 0,this.attackValue=new I.a(t.attackValue),this.defenseValue=new I.a(t.defenseValue),this.bonusDamage=t.bonusDamage?new I.a(t.bonusDamage):new I.a(1),this.attackInterval=t.attackInterval?t.attackInterval:5,this.hp=this.attackValue.plus(this.defenseValue).div(5)}return Object(g.a)(e,[{key:"attack",value:function(e){e.hp=I.a.max(e.hp.minus(I.a.max(this.attackValue.minus(e.defenseValue),0)),0)}},{key:"isDefeated",value:function(){return this.hp.eq(0)}}]),e}(),P=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){return Object(m.a)(this,i),t.call(this,{attackValue:e.player.stats.get(e.attackStat),defenseValue:e.player.stats.get(e.defenseStat)})}return i}(E);!function(e){e.brute="brute",e.spectre="spectre",e.brain="brain"}(T||(T={})),function(e){e.strength="strength",e.toughness="toughness",e.wisdom="wisdom",e.dexterity="dexterity",e.charisma="charisma",e.intelligence="intelligence"}(M||(M={}));var R=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;return Object(m.a)(this,i),(a=t.call(this,e)).id=void 0,a.name=void 0,a.prestigePoints=void 0,a.playerAttackStat=void 0,a.playerDefenseStat=void 0,a.prestigePoints=new I.a(e.prestigePoints),a.id=e.id,a.name=e.name,a.playerAttackStat=e.playerAttackStat,a.playerDefenseStat=e.playerDefenseStat,a}return i}(E),V=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(){return Object(m.a)(this,i),t.call(this,{id:T.brain,name:T.brain,prestigePoints:"100",attackValue:"1000000",defenseValue:"500000",attackInterval:4.5,playerAttackStat:M.toughness,playerDefenseStat:M.intelligence})}return i}(R),A=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(){return Object(m.a)(this,i),t.call(this,{id:T.brute,name:T.brute,prestigePoints:"1",attackValue:"2500",defenseValue:"2500",playerAttackStat:M.strength,playerDefenseStat:M.toughness})}return i}(R),D=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(){return Object(m.a)(this,i),t.call(this,{id:T.spectre,name:T.spectre,prestigePoints:"10",attackValue:"25000",defenseValue:"25000",playerAttackStat:M.wisdom,playerDefenseStat:M.charisma})}return i}(R);function z(e){switch(e){case T.brute:return new A;case T.spectre:return new D;case T.brain:return new V;default:throw new Error("Invalid bossId")}}var G=function(){function e(t){Object(m.a)(this,e),this.boss=void 0,this.player=void 0,this.boss=z(t.bossId),this.player=new P({player:t.gameState.player,attackStat:this.boss.playerAttackStat,defenseStat:this.boss.playerDefenseStat}),t.gameState.addLoopSubscription(f,x,this.player.attackInterval),t.gameState.addLoopSubscription(p,y,this.boss.attackInterval),t.gameState.addLoopSubscription(w,S)}return Object(g.a)(e,[{key:"playerAttack",value:function(){this.player.attack(this.boss)}},{key:"bossAttack",value:function(){this.boss.attack(this.player)}}]),e}(),Z=[T.brute,T.spectre,T.brain];var N,U,F,B,K,H,J=i(229),W=i(34),Y=i(13),Q=function(){function e(t){Object(m.a)(this,e),this.bossesDefeated=void 0,this.bossesDefeated=t.bossesDefeated?Object(Y.a)({},t.bossesDefeated):{}}return Object(g.a)(e,[{key:"addDefeatedBoss",value:function(e){var t=this.bossesDefeated[e]||0;this.bossesDefeated[e]=t+1}},{key:"getBossDefeatedCount",value:function(e){return this.bossesDefeated[e]||0}}]),e}(),X=function(){function e(t){Object(m.a)(this,e),this.id=void 0,this.group=void 0,this.additiveValue=void 0,this.multiplicativeValue=void 0,this.id=t.id,this.group=t.group,this.additiveValue=t.additiveValue?new I.a(t.additiveValue):new I.a(0),this.multiplicativeValue=t.multiplicativeValue?new I.a(t.multiplicativeValue):new I.a(1)}return Object(g.a)(e,[{key:"modifyStats",value:function(e){return this.addToStatGains(this.multiplyStatGains(e))}},{key:"modifyDecimal",value:function(e){return this.addToGain(this.multiplyGain(e))}},{key:"modifyNumber",value:function(e){return this.addToGain(this.multiplyGain(e)).toNumber()}},{key:"multiplyStatGains",value:function(e){return e.multiplyAllStatsValue(this.multiplicativeValue)}},{key:"addToStatGains",value:function(e){return e.addAllStatsValue(this.additiveValue)}},{key:"multiplyGain",value:function(e){return this.multiplicativeValue.times(e)}},{key:"addToGain",value:function(e){return this.additiveValue.add(e)}}]),e}(),$=function(){function e(t){Object(m.a)(this,e),this.permanentModifiers=void 0,this.temporaryModifiers=void 0,this.permanentModifiers=this.loadModifiers(t.permanentModifiers),this.temporaryModifiers={}}return Object(g.a)(e,[{key:"modifyStats",value:function(e,t){var i=e,a=this.permanentModifiers[t],n=this.temporaryModifiers[t];if(a){var s,r=Object(W.a)(a);try{for(r.s();!(s=r.n()).done;){i=s.value.modifyStats(i)}}catch(l){r.e(l)}finally{r.f()}}if(n){var c,o=Object(W.a)(n);try{for(o.s();!(c=o.n()).done;){i=c.value.modifyStats(i)}}catch(l){o.e(l)}finally{o.f()}}return i}},{key:"modifyDecimal",value:function(e,t){var i=e,a=this.permanentModifiers[t],n=this.temporaryModifiers[t];if(a){var s,r=Object(W.a)(a);try{for(r.s();!(s=r.n()).done;){i=s.value.modifyDecimal(i)}}catch(l){r.e(l)}finally{r.f()}}if(n){var c,o=Object(W.a)(n);try{for(o.s();!(c=o.n()).done;){i=c.value.modifyDecimal(i)}}catch(l){o.e(l)}finally{o.f()}}return i}},{key:"modifyNumber",value:function(e,t){var i=e,a=this.permanentModifiers[t],n=this.temporaryModifiers[t];if(a){var s,r=Object(W.a)(a);try{for(r.s();!(s=r.n()).done;){i=s.value.modifyNumber(i)}}catch(l){r.e(l)}finally{r.f()}}if(n){var c,o=Object(W.a)(n);try{for(o.s();!(c=o.n()).done;){i=c.value.modifyNumber(i)}}catch(l){o.e(l)}finally{o.f()}}return i}},{key:"addModifierToModifierGroup",value:function(e,t){var i=t.findIndex((function(t){return e.id===t.id}));i>=0?t[i]=e:t.push(e)}},{key:"addTemporaryModifier",value:function(e){var t=this.temporaryModifiers[e.group];t?this.addModifierToModifierGroup(e,t):this.temporaryModifiers[e.group]=[e]}},{key:"addPermanentModifier",value:function(e){var t=this.permanentModifiers[e.group];t?this.addModifierToModifierGroup(e,t):this.permanentModifiers[e.group]=[e]}},{key:"loadModifiers",value:function(e){var t,i={};if(!e)return i;for(t in e){var a=e[t];a&&(i[t]=a.map((function(e){return new X(e)})))}return i}}]),e}(),_=i(62);N=M.strength,U=M.toughness,F=M.wisdom,B=M.dexterity,K=M.charisma,H=M.intelligence;var ee,te=function(){function e(t){Object(m.a)(this,e),this[N]=void 0,this[U]=void 0,this[F]=void 0,this[B]=void 0,this[K]=void 0,this[H]=void 0,this.strength=new I.a(t.strength),this.toughness=new I.a(t.toughness),this.wisdom=new I.a(t.wisdom),this.dexterity=new I.a(t.dexterity),this.charisma=new I.a(t.charisma),this.intelligence=new I.a(t.intelligence)}return Object(g.a)(e,[{key:"addStats",value:function(e){this.strength=this.strength.plus(e.strength),this.toughness=this.toughness.plus(e.toughness),this.wisdom=this.wisdom.plus(e.wisdom),this.dexterity=this.dexterity.plus(e.dexterity),this.charisma=this.charisma.plus(e.charisma),this.intelligence=this.intelligence.plus(e.intelligence)}},{key:"subtractStatsValue",value:function(t){var i;return new e((i={},Object(h.a)(i,M.strength,this.strength.minus(t.strength)),Object(h.a)(i,M.toughness,this.toughness.minus(t.toughness)),Object(h.a)(i,M.wisdom,this.wisdom.minus(t.wisdom)),Object(h.a)(i,M.dexterity,this.dexterity.minus(t.dexterity)),Object(h.a)(i,M.charisma,this.charisma.minus(t.charisma)),Object(h.a)(i,M.intelligence,this.intelligence.minus(t.intelligence)),i))}},{key:"multiplyAllStats",value:function(e){return this.strength=this.strength.times(e),this.toughness=this.toughness.times(e),this.wisdom=this.wisdom.times(e),this.dexterity=this.dexterity.times(e),this.charisma=this.charisma.times(e),this.intelligence=this.intelligence.times(e),this}},{key:"multiplyAllStatsValue",value:function(t){var i;return new e((i={},Object(h.a)(i,M.strength,this.strength.times(t)),Object(h.a)(i,M.toughness,this.toughness.times(t)),Object(h.a)(i,M.wisdom,this.wisdom.times(t)),Object(h.a)(i,M.dexterity,this.dexterity.times(t)),Object(h.a)(i,M.charisma,this.charisma.times(t)),Object(h.a)(i,M.intelligence,this.intelligence.times(t)),i))}},{key:"addAllStatsValue",value:function(t){var i;return new e((i={},Object(h.a)(i,M.strength,this.strength.plus(t)),Object(h.a)(i,M.toughness,this.toughness.plus(t)),Object(h.a)(i,M.wisdom,this.wisdom.plus(t)),Object(h.a)(i,M.dexterity,this.dexterity.plus(t)),Object(h.a)(i,M.charisma,this.charisma.plus(t)),Object(h.a)(i,M.intelligence,this.intelligence.plus(t)),i))}},{key:"get",value:function(e){return this[e]}},{key:"isGreaterThanOrEqualTo",value:function(e){return!this[M.strength].lessThan(e[M.strength])&&(!this[M.toughness].lessThan(e[M.toughness])&&(!this[M.dexterity].lessThan(e[M.dexterity])&&(!this[M.wisdom].lessThan(e[M.wisdom])&&(!this[M.intelligence].lessThan(e[M.intelligence])&&!this[M.charisma].lessThan(e[M.charisma])))))}}]),e}();!function(e){e.bard="bard",e.warrior="warrior",e.healer="healer",e.defender="defender",e.mage="mage",e.rogue="rogue",e.archer="archer",e.fighter="fighter",e.soldier="soldier",e.wizard="wizard",e.cleric="cleric",e.dancer="dancer",e.monk="monk",e.slayer="slayer",e.enchanter="enchanter",e.necromancer="necromancer",e.shield="shield"}(ee||(ee={}));var ie,ae=function e(t){Object(m.a)(this,e),this.id=void 0,this.classType=void 0,this.requiredLevel=void 0,this.stats=void 0,this.bossId=void 0,this.minCount=void 0,this.id=t.id};!function(e){e.classLevel="classLevel",e.playerLevel="playerLevel",e.statMinimums="statMinimums",e.bossDefeated="bossDefeated",e.prestigeCount="prestigeCount"}(ie||(ie={}));var ne=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;if(Object(m.a)(this,i),(a=t.call(this,{id:ie.bossDefeated})).bossId=void 0,a.minCount=void 0,!e.bossId)throw new Error("bossId is required");if(!e.minCount)throw new Error("minCount is required");return a.bossId=e.bossId,a.minCount=e.minCount,a}return Object(g.a)(i,[{key:"requirementsMet",value:function(e){return e.history.getBossDefeatedCount(this.bossId)>=this.minCount}}]),i}(ae),se=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;if(Object(m.a)(this,i),(a=t.call(this,{id:ie.classLevel})).classType=void 0,a.requiredLevel=void 0,!e.classType)throw new Error("classType is required");if(!e.requiredLevel)throw new Error("requiredLevel is required");return a.classType=e.classType,a.requiredLevel=new I.a(e.requiredLevel),a}return Object(g.a)(i,[{key:"requirementsMet",value:function(e){if(e.player.unlockedClasses.includes(this.classType)&&e.player.getClassModifier(this.classType).level.greaterThanOrEqualTo(this.requiredLevel))return!0;return!1}}]),i}(ae),re=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;if(Object(m.a)(this,i),(a=t.call(this,{id:ie.playerLevel})).requiredLevel=void 0,!e.requiredLevel)throw new Error("requiredLevel is required");return a.requiredLevel=new I.a(e.requiredLevel),a}return Object(g.a)(i,[{key:"requirementsMet",value:function(e){return!!e.player.getTotalLevel().greaterThanOrEqualTo(this.requiredLevel)}}]),i}(ae),ce=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;if(Object(m.a)(this,i),(a=t.call(this,{id:ie.prestigeCount})).minCount=void 0,!e.minCount)throw new Error("minCount is required");return a.minCount=e.minCount,a}return Object(g.a)(i,[{key:"requirementsMet",value:function(e){return e.prestige.count>=this.minCount}}]),i}(ae),oe=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;if(Object(m.a)(this,i),(a=t.call(this,{id:ie.statMinimums})).stats=void 0,!e.stats)throw new Error("stats are required");return a.stats=new te(e.stats),a}return Object(g.a)(i,[{key:"requirementsMet",value:function(e){return!!e.player.stats.isGreaterThanOrEqualTo(this.stats)}}]),i}(ae);function le(e){var t,i=[],a=Object(W.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.id===ie.classLevel?i.push(new se(n)):n.id===ie.playerLevel?i.push(new re(n)):n.id===ie.statMinimums?i.push(new oe(n)):n.id===ie.bossDefeated?i.push(new ne(n)):n.id===ie.prestigeCount&&i.push(new ce(n))}}catch(s){a.e(s)}finally{a.f()}return i}var ue,de,he=function e(t){Object(m.a)(this,e),this.id=void 0,this.name=void 0,this.unlockRequirements=void 0,this.level=void 0,this.experience=void 0,this.levelUpStats=void 0,this.id=t.id,this.name=t.name,this.unlockRequirements=t.unlockRequirements?le(t.unlockRequirements):[],this.level=t.level?new I.a(t.level):new I.a(0),this.experience=new I.a(t.experience),this.levelUpStats=new te(t.levelUpStats)},be=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;Object(m.a)(this,i);var n=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.bard,name:ee.bard,levelUpStats:new te((a={},Object(h.a)(a,M.strength,"1"),Object(h.a)(a,M.toughness,"1"),Object(h.a)(a,M.wisdom,"1"),Object(h.a)(a,M.dexterity,"3"),Object(h.a)(a,M.charisma,"5"),Object(h.a)(a,M.intelligence,"1"),a))});return t.call(this,n)}return i}(he),je=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;Object(m.a)(this,i);var n=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.defender,name:ee.defender,levelUpStats:new te((a={},Object(h.a)(a,M.strength,"3"),Object(h.a)(a,M.toughness,"5"),Object(h.a)(a,M.wisdom,"1"),Object(h.a)(a,M.dexterity,"1"),Object(h.a)(a,M.charisma,"1"),Object(h.a)(a,M.intelligence,"1"),a))});return t.call(this,n)}return i}(he),ve=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;Object(m.a)(this,i);var n=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.healer,name:ee.healer,levelUpStats:new te((a={},Object(h.a)(a,M.strength,"1"),Object(h.a)(a,M.toughness,"1"),Object(h.a)(a,M.wisdom,"5"),Object(h.a)(a,M.dexterity,"1"),Object(h.a)(a,M.charisma,"1"),Object(h.a)(a,M.intelligence,"3"),a))});return t.call(this,n)}return i}(he),Oe=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;Object(m.a)(this,i);var n=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.mage,name:ee.mage,levelUpStats:new te((a={},Object(h.a)(a,M.strength,"1"),Object(h.a)(a,M.toughness,"1"),Object(h.a)(a,M.wisdom,"3"),Object(h.a)(a,M.dexterity,"1"),Object(h.a)(a,M.charisma,"1"),Object(h.a)(a,M.intelligence,"5"),a))});return t.call(this,n)}return i}(he),me=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;Object(m.a)(this,i);var n=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.rogue,name:ee.rogue,levelUpStats:new te((a={},Object(h.a)(a,M.strength,"1"),Object(h.a)(a,M.toughness,"1"),Object(h.a)(a,M.wisdom,"1"),Object(h.a)(a,M.dexterity,"5"),Object(h.a)(a,M.charisma,"3"),Object(h.a)(a,M.intelligence,"1"),a))});return t.call(this,n)}return i}(he),ge=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;Object(m.a)(this,i);var n=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.warrior,name:ee.warrior,levelUpStats:new te((a={},Object(h.a)(a,M.strength,"5"),Object(h.a)(a,M.toughness,"3"),Object(h.a)(a,M.wisdom,"1"),Object(h.a)(a,M.dexterity,"1"),Object(h.a)(a,M.charisma,"1"),Object(h.a)(a,M.intelligence,"1"),a))});return t.call(this,n)}return i}(he),fe=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a,n;Object(m.a)(this,i);var s=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.archer,name:ee.archer,unlockRequirements:[new oe({stats:new te((a={},Object(h.a)(a,M.strength,"60"),Object(h.a)(a,M.toughness,"10"),Object(h.a)(a,M.wisdom,"10"),Object(h.a)(a,M.dexterity,"80"),Object(h.a)(a,M.charisma,"40"),Object(h.a)(a,M.intelligence,"10"),a))})],levelUpStats:new te((n={},Object(h.a)(n,M.strength,"5"),Object(h.a)(n,M.toughness,"2"),Object(h.a)(n,M.wisdom,"2"),Object(h.a)(n,M.dexterity,"10"),Object(h.a)(n,M.charisma,"3"),Object(h.a)(n,M.intelligence,"2"),n))});return t.call(this,s)}return i}(he),pe=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a,n;Object(m.a)(this,i);var s=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.cleric,name:ee.cleric,unlockRequirements:[new oe({stats:new te((a={},Object(h.a)(a,M.strength,"10"),Object(h.a)(a,M.toughness,"10"),Object(h.a)(a,M.wisdom,"80"),Object(h.a)(a,M.dexterity,"40"),Object(h.a)(a,M.charisma,"10"),Object(h.a)(a,M.intelligence,"60"),a))})],levelUpStats:new te((n={},Object(h.a)(n,M.strength,"2"),Object(h.a)(n,M.toughness,"2"),Object(h.a)(n,M.wisdom,"10"),Object(h.a)(n,M.dexterity,"2"),Object(h.a)(n,M.charisma,"3"),Object(h.a)(n,M.intelligence,"5"),n))});return t.call(this,s)}return i}(he),xe=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a,n;Object(m.a)(this,i);var s=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.dancer,name:ee.dancer,unlockRequirements:[new oe({stats:new te((a={},Object(h.a)(a,M.strength,"40"),Object(h.a)(a,M.toughness,"10"),Object(h.a)(a,M.wisdom,"10"),Object(h.a)(a,M.dexterity,"60"),Object(h.a)(a,M.charisma,"80"),Object(h.a)(a,M.intelligence,"10"),a))})],levelUpStats:new te((n={},Object(h.a)(n,M.strength,"3"),Object(h.a)(n,M.toughness,"2"),Object(h.a)(n,M.wisdom,"2"),Object(h.a)(n,M.dexterity,"5"),Object(h.a)(n,M.charisma,"10"),Object(h.a)(n,M.intelligence,"2"),n))});return t.call(this,s)}return i}(he),ye=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a,n;Object(m.a)(this,i);var s=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.fighter,name:ee.fighter,unlockRequirements:[new oe({stats:new te((a={},Object(h.a)(a,M.strength,"80"),Object(h.a)(a,M.toughness,"40"),Object(h.a)(a,M.wisdom,"10"),Object(h.a)(a,M.dexterity,"60"),Object(h.a)(a,M.charisma,"10"),Object(h.a)(a,M.intelligence,"10"),a))})],levelUpStats:new te((n={},Object(h.a)(n,M.strength,"10"),Object(h.a)(n,M.toughness,"3"),Object(h.a)(n,M.wisdom,"2"),Object(h.a)(n,M.dexterity,"5"),Object(h.a)(n,M.charisma,"2"),Object(h.a)(n,M.intelligence,"2"),n))});return t.call(this,s)}return i}(he),we=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;Object(m.a)(this,i);var n=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.monk,name:ee.monk,unlockRequirements:[new se({classType:ee.bard,requiredLevel:"40"}),new se({classType:ee.defender,requiredLevel:"40"}),new se({classType:ee.healer,requiredLevel:"40"}),new se({classType:ee.mage,requiredLevel:"40"}),new se({classType:ee.rogue,requiredLevel:"40"}),new se({classType:ee.warrior,requiredLevel:"40"})],levelUpStats:new te((a={},Object(h.a)(a,M.strength,"7"),Object(h.a)(a,M.toughness,"7"),Object(h.a)(a,M.wisdom,"7"),Object(h.a)(a,M.dexterity,"7"),Object(h.a)(a,M.charisma,"7"),Object(h.a)(a,M.intelligence,"7"),a))});return t.call(this,n)}return i}(he),Se=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a,n;Object(m.a)(this,i);var s=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.soldier,name:ee.soldier,unlockRequirements:[new oe({stats:new te((a={},Object(h.a)(a,M.strength,"60"),Object(h.a)(a,M.toughness,"80"),Object(h.a)(a,M.wisdom,"10"),Object(h.a)(a,M.dexterity,"40"),Object(h.a)(a,M.charisma,"10"),Object(h.a)(a,M.intelligence,"10"),a))})],levelUpStats:new te((n={},Object(h.a)(n,M.strength,"5"),Object(h.a)(n,M.toughness,"10"),Object(h.a)(n,M.wisdom,"2"),Object(h.a)(n,M.dexterity,"3"),Object(h.a)(n,M.charisma,"2"),Object(h.a)(n,M.intelligence,"2"),n))});return t.call(this,s)}return i}(he),ke=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a,n;Object(m.a)(this,i);var s=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.wizard,name:ee.wizard,unlockRequirements:[new oe({stats:new te((a={},Object(h.a)(a,M.strength,"10"),Object(h.a)(a,M.toughness,"10"),Object(h.a)(a,M.wisdom,"60"),Object(h.a)(a,M.dexterity,"10"),Object(h.a)(a,M.charisma,"40"),Object(h.a)(a,M.intelligence,"80"),a))})],levelUpStats:new te((n={},Object(h.a)(n,M.strength,"2"),Object(h.a)(n,M.toughness,"2"),Object(h.a)(n,M.wisdom,"5"),Object(h.a)(n,M.dexterity,"2"),Object(h.a)(n,M.charisma,"3"),Object(h.a)(n,M.intelligence,"10"),n))});return t.call(this,s)}return i}(he),Te=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;Object(m.a)(this,i);var n=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.enchanter,name:ee.enchanter,unlockRequirements:[new se({classType:ee.dancer,requiredLevel:"80"}),new se({classType:ee.wizard,requiredLevel:"80"}),new re({requiredLevel:"350"})],levelUpStats:new te((a={},Object(h.a)(a,M.strength,"2"),Object(h.a)(a,M.toughness,"2"),Object(h.a)(a,M.wisdom,"10"),Object(h.a)(a,M.dexterity,"8"),Object(h.a)(a,M.charisma,"12"),Object(h.a)(a,M.intelligence,"14"),a))});return t.call(this,n)}return i}(he),Me=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;Object(m.a)(this,i);var n=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.necromancer,name:ee.necromancer,unlockRequirements:[new ne({bossId:T.spectre,minCount:1}),new ce({minCount:30}),new se({classType:ee.cleric,requiredLevel:"100"}),new se({classType:ee.bard,requiredLevel:"100"}),new se({classType:ee.wizard,requiredLevel:"100"}),new se({classType:ee.healer,requiredLevel:"100"})],levelUpStats:new te((a={},Object(h.a)(a,M.strength,"4"),Object(h.a)(a,M.toughness,"6"),Object(h.a)(a,M.wisdom,"32"),Object(h.a)(a,M.dexterity,"6"),Object(h.a)(a,M.charisma,"21"),Object(h.a)(a,M.intelligence,"27"),a))});return t.call(this,n)}return i}(he),Le=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;Object(m.a)(this,i);var n=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.shield,name:ee.shield,unlockRequirements:[new se({classType:ee.defender,requiredLevel:"80"}),new se({classType:ee.soldier,requiredLevel:"80"})],levelUpStats:new te((a={},Object(h.a)(a,M.strength,"3"),Object(h.a)(a,M.toughness,"33"),Object(h.a)(a,M.wisdom,"3"),Object(h.a)(a,M.dexterity,"3"),Object(h.a)(a,M.charisma,"3"),Object(h.a)(a,M.intelligence,"3"),a))});return t.call(this,n)}return i}(he),Ce=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){var a;Object(m.a)(this,i);var n=Object(Y.a)(Object(Y.a)({},e),{},{id:ee.slayer,name:ee.slayer,unlockRequirements:[new ne({bossId:T.brute,minCount:15}),new re({requiredLevel:"250"})],levelUpStats:new te((a={},Object(h.a)(a,M.strength,"16"),Object(h.a)(a,M.toughness,"4"),Object(h.a)(a,M.wisdom,"4"),Object(h.a)(a,M.dexterity,"16"),Object(h.a)(a,M.charisma,"4"),Object(h.a)(a,M.intelligence,"4"),a))});return t.call(this,n)}return i}(he),qe=(ue={},Object(h.a)(ue,ee.archer,new fe({experience:"0"})),Object(h.a)(ue,ee.bard,new be({experience:"0"})),Object(h.a)(ue,ee.defender,new je({experience:"0"})),Object(h.a)(ue,ee.healer,new ve({experience:"0"})),Object(h.a)(ue,ee.mage,new Oe({experience:"0"})),Object(h.a)(ue,ee.rogue,new me({experience:"0"})),Object(h.a)(ue,ee.warrior,new ge({experience:"0"})),Object(h.a)(ue,ee.cleric,new pe({experience:"0"})),Object(h.a)(ue,ee.dancer,new xe({experience:"0"})),Object(h.a)(ue,ee.fighter,new ye({experience:"0"})),Object(h.a)(ue,ee.monk,new we({experience:"0"})),Object(h.a)(ue,ee.soldier,new Se({experience:"0"})),Object(h.a)(ue,ee.wizard,new ke({experience:"0"})),Object(h.a)(ue,ee.slayer,new Ce({experience:"0"})),Object(h.a)(ue,ee.necromancer,new Me({experience:"0"})),Object(h.a)(ue,ee.enchanter,new Te({experience:"0"})),Object(h.a)(ue,ee.shield,new Le({experience:"0"})),ue),Ie=new I.a("2"),Ee=new I.a(2),Pe=function(){function e(t){Object(m.a)(this,e),this.classId=void 0,this.level=void 0,this.experience=void 0,this.statMultiplier=void 0,this.classId=t.classId,this.level=t.level?new I.a(t.level):new I.a(0),this.experience=t.experience?new I.a(t.experience):new I.a(0),this.statMultiplier=t.statMultiplier?t.statMultiplier:1}return Object(g.a)(e,[{key:"getName",value:function(){return qe[this.classId].name}},{key:"getModifiedStats",value:function(e){var t=qe[this.classId].levelUpStats.multiplyAllStats(this.statMultiplier);return e.modifierManager.modifyStats(t,a.statGain)}},{key:"getExperienceRequiredToLevel",value:function(){return Ee.times(this.level.plus(1).pow(Ie))}},{key:"getNumberOfLevelsToGrow",value:function(){return this.experience.div(Ee).pow(new I.a(1).div(Ie)).floor().minus(this.level)}},{key:"addExperience",value:function(e){this.experience=this.experience.plus(e)}},{key:"levelUp",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new I.a(1);e.addStats(this.getModifiedStats(t).multiplyAllStatsValue(i)),this.level=this.level.plus(i)}},{key:"checkForLevelUp",value:function(e,t){var i=this.getNumberOfLevelsToGrow();i.greaterThanOrEqualTo(1)&&this.levelUp(e,t,i)}}]),e}();!function(e){e.strawberryValleyFields="strawberryValleyFields",e.smallPawsAcres="smallPawsAcres",e.berryRidgeRange="berryRidgeRange",e.oldStoneFarm="oldStoneFarm",e.quietSands="quietSands",e.westwoodGardens="westwoodGardens",e.moonshadowOrchard="moonshadowOrchard"}(de||(de={}));var Re,Ve,Ae,De=function e(t){Object(m.a)(this,e),this.id=void 0,this.name=void 0,this.unlockRequirements=void 0,this.requiredStats=void 0,this.zoneKeyStats=void 0,this.minExp=void 0,this.maxExp=void 0,this.statIncrementalMultiplier=void 0,this.rate=void 0,this.id=t.id,this.name=t.name,this.requiredStats=new te(t.requiredStats),t.unlockRequirements?this.unlockRequirements=le(t.unlockRequirements):this.unlockRequirements=[new oe({stats:this.requiredStats})],this.minExp=new I.a(t.minExp),this.maxExp=new I.a(t.maxExp),this.statIncrementalMultiplier=new I.a(t.statIncrementalMultiplier),this.zoneKeyStats=t.zoneKeyStats,this.rate=t.rate},ze=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(){var e;Object(m.a)(this,i);var a={id:de.strawberryValleyFields,name:de.strawberryValleyFields,requiredStats:new te((e={},Object(h.a)(e,M.strength,"5"),Object(h.a)(e,M.toughness,"5"),Object(h.a)(e,M.dexterity,"5"),Object(h.a)(e,M.intelligence,"5"),Object(h.a)(e,M.wisdom,"5"),Object(h.a)(e,M.charisma,"5"),e)),zoneKeyStats:[],minExp:"1",maxExp:"5",statIncrementalMultiplier:"2",rate:5};return t.call(this,a)}return i}(De),Ge=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(){var e;Object(m.a)(this,i);var a={id:de.berryRidgeRange,name:de.berryRidgeRange,requiredStats:new te((e={},Object(h.a)(e,M.strength,"250"),Object(h.a)(e,M.toughness,"250"),Object(h.a)(e,M.dexterity,"250"),Object(h.a)(e,M.intelligence,"250"),Object(h.a)(e,M.wisdom,"250"),Object(h.a)(e,M.charisma,"250"),e)),zoneKeyStats:[],minExp:"25",maxExp:"250",statIncrementalMultiplier:"2",rate:5};return t.call(this,a)}return i}(De),Ze=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(){var e;Object(m.a)(this,i);var a={id:de.oldStoneFarm,name:de.oldStoneFarm,requiredStats:new te((e={},Object(h.a)(e,M.strength,"40"),Object(h.a)(e,M.toughness,"60"),Object(h.a)(e,M.dexterity,"10"),Object(h.a)(e,M.intelligence,"10"),Object(h.a)(e,M.wisdom,"10"),Object(h.a)(e,M.charisma,"30"),e)),zoneKeyStats:[M.toughness,M.strength,M.charisma],minExp:"10",maxExp:"80",statIncrementalMultiplier:"2",rate:4};return t.call(this,a)}return i}(De),Ne=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(){var e;Object(m.a)(this,i);var a={id:de.quietSands,name:de.quietSands,requiredStats:new te((e={},Object(h.a)(e,M.strength,"10"),Object(h.a)(e,M.toughness,"50"),Object(h.a)(e,M.dexterity,"10"),Object(h.a)(e,M.intelligence,"10"),Object(h.a)(e,M.wisdom,"35"),Object(h.a)(e,M.charisma,"10"),e)),zoneKeyStats:[M.toughness,M.wisdom],minExp:"12",maxExp:"48",statIncrementalMultiplier:"2",rate:3};return t.call(this,a)}return i}(De),Ue=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(){var e;Object(m.a)(this,i);var a={id:de.smallPawsAcres,name:de.smallPawsAcres,requiredStats:new te((e={},Object(h.a)(e,M.strength,"25"),Object(h.a)(e,M.toughness,"25"),Object(h.a)(e,M.dexterity,"25"),Object(h.a)(e,M.intelligence,"25"),Object(h.a)(e,M.wisdom,"25"),Object(h.a)(e,M.charisma,"25"),e)),zoneKeyStats:[],minExp:"5",maxExp:"120",statIncrementalMultiplier:"3",rate:4};return t.call(this,a)}return i}(De),Fe=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(){var e;Object(m.a)(this,i);var a={id:de.moonshadowOrchard,name:de.moonshadowOrchard,requiredStats:new te((e={},Object(h.a)(e,M.strength,"4000"),Object(h.a)(e,M.toughness,"4000"),Object(h.a)(e,M.dexterity,"8000"),Object(h.a)(e,M.intelligence,"4000"),Object(h.a)(e,M.wisdom,"8000"),Object(h.a)(e,M.charisma,"4000"),e)),zoneKeyStats:[M.dexterity,M.wisdom],minExp:"300",maxExp:"1200",statIncrementalMultiplier:"1.5",rate:3.5};return t.call(this,a)}return i}(De),Be=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(){var e;Object(m.a)(this,i);var a={id:de.westwoodGardens,name:de.westwoodGardens,requiredStats:new te((e={},Object(h.a)(e,M.strength,"3000"),Object(h.a)(e,M.toughness,"3000"),Object(h.a)(e,M.dexterity,"3000"),Object(h.a)(e,M.intelligence,"3000"),Object(h.a)(e,M.wisdom,"3000"),Object(h.a)(e,M.charisma,"6000"),e)),zoneKeyStats:[M.charisma],minExp:"100",maxExp:"500",statIncrementalMultiplier:"1",rate:4};return t.call(this,a)}return i}(De),Ke=(Re={},Object(h.a)(Re,de.strawberryValleyFields,new ze),Object(h.a)(Re,de.berryRidgeRange,new Ge),Object(h.a)(Re,de.oldStoneFarm,new Ze),Object(h.a)(Re,de.quietSands,new Ne),Object(h.a)(Re,de.smallPawsAcres,new Ue),Object(h.a)(Re,de.westwoodGardens,new Be),Object(h.a)(Re,de.moonshadowOrchard,new Fe),Re),He=function(){function e(t){Object(m.a)(this,e),this.zoneId=void 0,this.removeRequirements=void 0,this.minExp=void 0,this.maxExp=void 0,this.statIncrementalMultiplier=void 0,this.rate=void 0,this.zoneId=t.zoneId,this.removeRequirements=!!t.removeRequirements,this.minExp=t.minExp?new I.a(t.minExp):new I.a(1),this.maxExp=t.maxExp?new I.a(t.maxExp):new I.a(1),this.statIncrementalMultiplier=t.statIncrementalMultiplier?new I.a(t.statIncrementalMultiplier):new I.a(1),this.rate=t.rate?t.rate:1}return Object(g.a)(e,[{key:"getName",value:function(){return Ke[this.zoneId].name}},{key:"getRate",value:function(){return Ke[this.zoneId].rate*this.rate}},{key:"getModifiedMinExp",value:function(){return Ke[this.zoneId].minExp.times(this.minExp)}},{key:"getModifiedMaxExp",value:function(){return Ke[this.zoneId].maxExp.times(this.maxExp)}},{key:"getStats",value:function(){return Ke[this.zoneId].requiredStats}},{key:"getExperienceReward",value:function(e){var t=Ke[this.zoneId],i=this.getModifiedMinExp(),a=this.getModifiedMaxExp(),n=t.statIncrementalMultiplier.times(this.statIncrementalMultiplier);if(t.zoneKeyStats.length>0){var s,r,c=new I.a(1),o=a.div(i).div(t.zoneKeyStats.length),l=Object(W.a)(t.zoneKeyStats);try{for(l.s();!(r=l.n()).done;){s=r.value;var u=e.get(s),d=t.requiredStats.get(s).times(n),h=I.a.min(u.dividedBy(d).minus(1),o);c=c.plus(h)}}catch(x){l.e(x)}finally{l.f()}return I.a.min(a,I.a.max(i.times(c),i))}for(var b,j=new I.a(1),v=a.div(i).div(Object.keys(M).length),O=0,m=Object.values(M);O<m.length;O++){b=m[O];var g=e.get(b),f=t.requiredStats.get(b).times(n),p=I.a.min(g.dividedBy(f).minus(1),v);j=j.plus(p)}return I.a.min(a,I.a.max(i.times(j),i))}}]),e}(),Je=function(){function e(t){Object(m.a)(this,e),this.activeClassLimit=void 0,this.activeClasses=void 0,this.unlockedClasses=void 0,this.classModifiers=void 0,this.activeZone=void 0,this.discoveredZones=void 0,this.zoneModifiers=void 0,this.stats=void 0,this.lastBossDefeated=void 0,this.activeClassLimit=t.activeClassLimit,this.activeClasses=Object(_.a)(t.activeClasses),this.unlockedClasses=Object(_.a)(t.unlockedClasses),this.classModifiers=this.loadClassModifiers(t.classModifiers),this.activeZone=t.activeZone,this.discoveredZones=Object(_.a)(t.discoveredZones),this.zoneModifiers=this.loadZoneModifiers(t.zoneModifiers),this.stats=new te(t.stats),this.lastBossDefeated=t.lastBossDefeated}return Object(g.a)(e,[{key:"getZoneModifier",value:function(e){var t=this.zoneModifiers[e];return t||(t=new He({zoneId:e})),t}},{key:"getClassModifier",value:function(e){var t=this.classModifiers[e];return t||(t=new Pe({classId:e}),this.classModifiers[e]=t),t}},{key:"setStats",value:function(e){this.stats=e}},{key:"unlockZone",value:function(e){this.discoveredZones.indexOf(e)<0&&this.discoveredZones.push(e)}},{key:"unlockClass",value:function(e){this.unlockedClasses.indexOf(e)<0&&this.unlockedClasses.push(e)}},{key:"getActiveZone",value:function(){if(this.activeZone&&this.discoveredZones.indexOf(this.activeZone)>=0)return this.getZoneModifier(this.activeZone)}},{key:"makeClassActive",value:function(e){this.activeClassLimit>this.activeClasses.length||this.activeClasses.shift(),this.activeClasses.push(e)}},{key:"addExperienceToActiveClasses",value:function(e){var t=this;if(this.activeZone){var i=this.getZoneModifier(this.activeZone).getExperienceReward(this.stats),n=e.modifierManager.modifyDecimal(i,a.experienceGain);this.activeClasses.forEach((function(i){var a=t.getClassModifier(i);a.addExperience(n),a.checkForLevelUp(t.stats,e)}))}}},{key:"makeZoneActive",value:function(e){return this.activeZone=e,e}},{key:"getTotalLevel",value:function(){var e,t=new I.a(0);for(e in this.classModifiers){var i=this.classModifiers[e];i&&(t=t.plus(i.level))}return t}},{key:"loadClassModifiers",value:function(e){var t,i={};if(e)for(t in e){var a=e[t];a&&(i[t]=new Pe(a))}return i}},{key:"loadZoneModifiers",value:function(e){var t,i={};if(e)for(t in e){var a=e[t];a&&(i[t]=new He(a))}return i}}]),e}(),We=[de.strawberryValleyFields],Ye=new te((Ve={},Object(h.a)(Ve,M.strength,"5"),Object(h.a)(Ve,M.toughness,"5"),Object(h.a)(Ve,M.dexterity,"5"),Object(h.a)(Ve,M.intelligence,"5"),Object(h.a)(Ve,M.wisdom,"5"),Object(h.a)(Ve,M.charisma,"5"),Ve)),Qe=[ee.warrior,ee.mage,ee.defender,ee.healer,ee.bard,ee.rogue],Xe=new Je({activeClassLimit:1,activeClasses:[],unlockedClasses:Object(_.a)(Qe),discoveredZones:Object(_.a)(We),stats:new te(Ye)});!function(e){e.improvedConsolidating="improvedConsolidating",e.improvedLearning="improvedLearning",e.improvedTraining="improvedTraining",e.monkMastery="monkMastery"}(Ae||(Ae={}));var $e,_e=function(){function e(t){Object(m.a)(this,e),this.id=void 0,this.name=void 0,this.maxLevel=void 0,this.currentLevel=void 0,this.cost=void 0,this.unlockRequirements=void 0,this.id=t.id,this.name=t.name,this.maxLevel=t.maxLevel,this.currentLevel=t.currentLevel?t.currentLevel:0,this.cost=t.cost?t.cost:1,this.unlockRequirements=t.unlockRequirements?le(t.unlockRequirements):[new ne({bossId:T.brute,minCount:1})]}return Object(g.a)(e,[{key:"increaseLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.currentLevel+t<=this.maxLevel){var i=this.cost*t;e.prestige.spendPoints(i)&&(this.currentLevel=this.currentLevel+t,this.applySkill(e))}}}]),e}(),et=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){return Object(m.a)(this,i),t.call(this,{id:Ae.improvedLearning,name:Ae.improvedLearning,maxLevel:10,currentLevel:e.currentLevel})}return Object(g.a)(i,[{key:"applySkill",value:function(e){e.modifierManager.addTemporaryModifier(new X({id:Ae.improvedLearning,group:a.experienceGain,multiplicativeValue:new I.a(1+.1*this.currentLevel)}))}}]),i}(_e),tt=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){return Object(m.a)(this,i),t.call(this,{id:Ae.improvedTraining,name:Ae.improvedTraining,maxLevel:10,currentLevel:e.currentLevel})}return Object(g.a)(i,[{key:"applySkill",value:function(e){e.modifierManager.addTemporaryModifier(new X({id:Ae.improvedTraining,group:a.statGain,multiplicativeValue:new I.a(1+.1*this.currentLevel)}))}}]),i}(_e),it=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){return Object(m.a)(this,i),t.call(this,{id:Ae.improvedConsolidating,name:Ae.improvedConsolidating,maxLevel:1,currentLevel:e.currentLevel})}return Object(g.a)(i,[{key:"applySkill",value:function(e){e.modifierManager.addTemporaryModifier(new X({id:Ae.improvedConsolidating,group:a.prestigeStatsGain,additiveValue:new I.a(.18*this.currentLevel)}))}}]),i}(_e),at=function(e){Object(L.a)(i,e);var t=Object(C.a)(i);function i(e){return Object(m.a)(this,i),t.call(this,{id:Ae.monkMastery,name:Ae.monkMastery,maxLevel:1,cost:10,currentLevel:e.currentLevel,unlockRequirements:[new se({classType:ee.monk,requiredLevel:"250"})]})}return Object(g.a)(i,[{key:"applySkill",value:function(e){e.player.unlockClass(ee.monk)}}]),i}(_e),nt=function(e){switch(e.id){case Ae.improvedConsolidating:return new it(e);case Ae.improvedLearning:return new et(e);case Ae.improvedTraining:return new tt(e);case Ae.monkMastery:return new at(e);default:throw new Error(e.id+" is not being handled in creator")}},st=function(){function e(t){Object(m.a)(this,e),this.count=void 0,this.points=void 0,this.pointsToGainOnNextPrestige=void 0,this.prestigeSkills=void 0,this.basePlayer=void 0,this.pointsToGainOnNextPrestige=t.pointsToGainOnNextPrestige?new I.a(t.pointsToGainOnNextPrestige):new I.a(0),this.prestigeSkills=[],this.loadPrestigeSkills(t.prestigeSkills),this.points=t.points?new I.a(t.points):new I.a(0),this.count=t.count?t.count:0,this.basePlayer=t.basePlayer?new Je(t.basePlayer):new Je(Xe)}return Object(g.a)(e,[{key:"applyPrestigeSkills",value:function(e){this.prestigeSkills.forEach((function(t){t.applySkill(e)}))}},{key:"unlockPrestigeSkill",value:function(e){this.prestigeSkills.some((function(t){return t.id===e.id}))||this.prestigeSkills.push(e)}},{key:"loadPrestigeSkills",value:function(e){if(e){var t,i=Object(W.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,n=nt(a);this.unlockPrestigeSkill(n)}}catch(s){i.e(s)}finally{i.f()}}}},{key:"addPoints",value:function(e){this.pointsToGainOnNextPrestige=this.pointsToGainOnNextPrestige.add(e)}},{key:"spendPoints",value:function(e){return!!this.points.greaterThanOrEqualTo(e)&&(this.points=this.points.minus(e),!0)}},{key:"getRequiredLevel",value:function(){return 300}},{key:"isPretigeAvailable",value:function(e){return!!e.player.getTotalLevel().greaterThanOrEqualTo(300)}},{key:"getStatMultiplierOnPrestige",value:function(e){return e.modifierManager.modifyNumber(.02,a.prestigeStatsGain)}},{key:"activatePrestige",value:function(e){if(this.isPretigeAvailable(e)){var t=this.getStatMultiplierOnPrestige(e),i=e.player.stats.subtractStatsValue(this.basePlayer.stats);this.basePlayer.stats.addStats(i.multiplyAllStatsValue(t)),this.count=this.count+1,this.points=this.points.plus(this.pointsToGainOnNextPrestige),this.pointsToGainOnNextPrestige=new I.a(0);var a=new Je(this.basePlayer);e.setPlayer(a)}}}]),e}(),rt=function(){function e(t){Object(m.a)(this,e),this.player=void 0,this.prestige=void 0,this.fps=void 0,this.lastExecutionTime=void 0,this.loopSubscriptions=void 0,this.battle=void 0,this.history=void 0,this.modifierManager=void 0,this.player=new Je(t.player),this.prestige=new st(t.prestige),this.fps=t.fps?t.fps:30,this.lastExecutionTime=void 0,this.loopSubscriptions={},this.history=t.history?new Q(t.history):new Q({}),this.modifierManager=t.modifierManager?new $(t.modifierManager):new $({}),this.prestige.applyPrestigeSkills(this)}return Object(g.a)(e,[{key:"setPlayer",value:function(e){this.player=e}},{key:"addLoopSubscription",value:function(e,t,i){this.loopSubscriptions[e]={timeInterval:i,executableLoopFunction:t,timeSinceLastExecution:0}}},{key:"removeSubscriptions",value:function(e){var t,i=Object(W.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.loopSubscriptions[a]&&delete this.loopSubscriptions[a]}}catch(n){i.e(n)}finally{i.f()}}},{key:"executeLoopFunction",value:function(e,t){var i=this.loopSubscriptions[e];i&&(i.timeInterval?(i.timeSinceLastExecution+=t.frameTime,i.timeSinceLastExecution/1e3>=i.timeInterval&&(i.executableLoopFunction(t),i.timeSinceLastExecution=0)):i.executableLoopFunction(t))}},{key:"gameLoop",value:function(e){var t=this,i=0;this.lastExecutionTime&&(i=e-this.lastExecutionTime);var a={gameState:this,frameTime:i};Object.keys(this.loopSubscriptions).forEach((function(e){t.executeLoopFunction(e,a)})),this.lastExecutionTime=e}}]),e}(),ct={player:new Je(Xe),prestige:new st({})},ot=Object(n.createContext)({gameState:new rt(ct),lastFrameTime:performance.now()}),lt=i(4);function ut(e){var t=e.gameLoopId,i=e.rate,a=Object(n.useContext)(ot).gameState;return Object(lt.jsx)(J.a,{percent:a.loopSubscriptions[t]&&i?a.loopSubscriptions[t].timeSinceLastExecution/1e3/i*100:0,showInfo:!1})}function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown";if(!e)return t;var i=e.match(/[A-Za-z][a-z]*/g)||[];return i.map(ht).join(" ")}function ht(e){return e.charAt(0).toUpperCase()+e.substring(1)}var bt=($e={},Object(h.a)($e,T.brute,Object(lt.jsx)(d.d,{})),Object(h.a)($e,T.spectre,Object(lt.jsx)(d.k,{})),Object(h.a)($e,T.brain,Object(lt.jsx)(d.c,{})),$e);function jt(){var e=Object(n.useContext)(ot),t=e.gameState.battle,i=function(e){if(e.player.lastBossDefeated){var t=Z.indexOf(e.player.lastBossDefeated);return-1===t||t+1>=Z.length?null:Z[t+1]}return Z[0]}(e.gameState);function a(e){var t=bt[e.boss.id];return Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsx)(j.a.Title,{children:dt(e.boss.name,"Boss")}),Object(lt.jsx)(v.a,{size:"large",icon:t}),Object(lt.jsx)(ut,{gameLoopId:p,rate:e.boss.attackInterval}),Object(lt.jsxs)(j.a.Text,{children:["HP: ",e.boss.hp.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Attack: ",e.boss.attackValue.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Defense: ",e.boss.defenseValue.toString()]}),Object(lt.jsx)(j.a.Text,{children:"Reward:"}),Object(lt.jsxs)(j.a.Text,{children:["Prestige Points: ",e.boss.prestigePoints.toString()]})]})}var s=!(!t&&i);return Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsx)(O.a,{onClick:function(){i&&(e.gameState.battle=new G({bossId:i,gameState:e.gameState}))},disabled:s,children:"Start Fight"}),function(){return t?Object(lt.jsxs)(b.b,{direction:"horizontal",children:[(e=t,Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsx)(j.a.Title,{children:"Player"}),Object(lt.jsx)(v.a,{size:"large",icon:Object(lt.jsx)(d.e,{})}),Object(lt.jsx)(ut,{gameLoopId:f,rate:e.player.attackInterval}),Object(lt.jsxs)(j.a.Text,{children:["HP: ",e.player.hp.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Attack: ",e.player.attackValue.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Defense: ",e.player.defenseValue.toString()]})]})),a(t)]}):i?function(e){var t=bt[e],i=z(e);return Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsx)(j.a.Title,{children:dt(i.name,"Boss")}),Object(lt.jsx)(v.a,{size:"large",icon:t}),Object(lt.jsxs)(j.a.Text,{children:["HP: ",i.hp.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Attack: ",i.attackValue.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Defense: ",i.defenseValue.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Player Attack Stat: ",i.playerAttackStat]}),Object(lt.jsxs)(j.a.Text,{children:["Player Defense Stat: ",i.playerDefenseStat]}),Object(lt.jsx)(j.a.Text,{children:"Reward:"}),Object(lt.jsxs)(j.a.Text,{children:["Prestige Points: ",i.prestigePoints.toString()]})]})}(i):Object(lt.jsx)(j.a.Text,{children:"No more bosses left to fight"});var e}()]})}var vt,Ot=i(227),mt=i(223),gt=i(224),ft=i(225);function pt(){var e=Object(n.useContext)(ot).gameState,t=e.player,i=function(e){return function(){return t.makeClassActive(e)}};return Object(lt.jsxs)(b.b,{direction:"vertical",style:{width:"100%"},children:[Object(lt.jsxs)(ft.a,{children:["Active Classes (",t.activeClasses.length,"/",t.activeClassLimit,")"]}),t.activeClasses.map((function(e){var i=t.getClassModifier(e);return Object(lt.jsxs)(j.a.Title,{level:2,children:[dt(i.getName(),"Select a class to make active")," ",i.level.toString()]},"active-"+e)})),Object(lt.jsx)(ft.a,{children:"Unlocked Classes"}),Object(lt.jsx)(Ot.b,{dataSource:t.unlockedClasses,renderItem:function(a){return function(a){var n=t.getClassModifier(a);return Object(lt.jsxs)(Ot.b.Item,{onClick:i(a),style:{display:"block"},children:[Object(lt.jsx)(j.a.Title,{children:dt(n.getName(),"Select a class to make active")}),Object(lt.jsxs)(mt.a,{gutter:16,children:[Object(lt.jsx)(gt.a,{span:8,children:Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsxs)(j.a.Text,{children:["Level: ",n.level.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Experience: ",n.experience.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Experience to Level: ",n.getExperienceRequiredToLevel().toString()]})]})}),Object(lt.jsx)(gt.a,{span:8,children:Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsxs)(j.a.Text,{children:["Strength: ",n.getModifiedStats(e).strength.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Toughness: ",n.getModifiedStats(e).toughness.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Dexterity: ",n.getModifiedStats(e).dexterity.toString()]})]})}),Object(lt.jsx)(gt.a,{span:8,children:Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsxs)(j.a.Text,{children:["Intelligence: ",n.getModifiedStats(e).intelligence.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Wisdom: ",n.getModifiedStats(e).wisdom.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Charisma: ",n.getModifiedStats(e).charisma.toString()]})]})})]}),Object(lt.jsx)(ft.a,{})]},"unlocked-"+a)}(a)},size:"large",bordered:!0,itemLayout:"vertical"})]})}var xt=(vt={},Object(h.a)(vt,Ae.improvedConsolidating,Object(lt.jsx)(d.a,{})),Object(h.a)(vt,Ae.improvedLearning,Object(lt.jsx)(d.i,{})),Object(h.a)(vt,Ae.improvedTraining,Object(lt.jsx)(d.g,{})),Object(h.a)(vt,Ae.monkMastery,Object(lt.jsx)(d.h,{})),vt);function yt(){var e=Object(n.useContext)(ot).gameState,t=e.player,i=e.prestige,a=function(t){return function(){t.increaseLevel(e)}};return Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsxs)(j.a.Text,{children:["Prestige Points: ",i.points.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["You must reach a high enough level to prestige: ",t.getTotalLevel().toString(),"/",i.getRequiredLevel().toString()]}),Object(lt.jsxs)(j.a.Text,{children:[100*i.getStatMultiplierOnPrestige(e),"% of your current stats will be added to your base stats on reset"]}),Object(lt.jsx)(j.a.Text,{children:"You will lose discovered zones"}),Object(lt.jsx)(j.a.Text,{children:"You will lose unlocked classes"}),Object(lt.jsxs)(j.a.Text,{children:["Points gained on prestige: ",i.pointsToGainOnNextPrestige.toString()]}),Object(lt.jsx)(O.a,{disabled:!i.isPretigeAvailable(e),onClick:function(){i.activatePrestige(e)},children:"Prestige"}),Object(lt.jsx)(ft.a,{children:"Skills"}),i.prestigeSkills.length?Object(lt.jsx)(Ot.b,{grid:{gutter:16},dataSource:i.prestigeSkills,renderItem:function(e){return Object(lt.jsx)(Ot.b.Item,{onClick:a(e),children:Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsx)(v.a,{size:"large",icon:xt[e.id]}),Object(lt.jsx)(j.a.Text,{children:dt(e.name)}),Object(lt.jsxs)(j.a.Text,{children:[e.currentLevel,"/",e.maxLevel]}),Object(lt.jsxs)(j.a.Text,{children:["Cost: ",e.cost]})]})})}}):null]})}var wt="iliumIdleClasser";function St(e){return function(e){window.localStorage.setItem(wt,JSON.stringify(e))}(e)}function kt(){var e=window.localStorage.getItem(wt);if(e)try{return new rt(JSON.parse(e))}catch(t){console.log("Failed to load game state"),console.log(t)}return new rt(ct)}function Tt(){window.localStorage.removeItem(wt)}function Mt(){Object(n.useContext)(ot);return Object(lt.jsx)(b.b,{direction:"vertical",children:Object(lt.jsx)(O.a,{onClick:function(){Tt(),window.location.reload()},children:"Clear Saved Data"})})}var Lt=j.a.Text;function Ct(){var e=Object(n.useContext)(ot).gameState.player;function t(e){return(e.match(/[A-Za-z][a-z]*/g)||[]).map(i).join(" ")}function i(e){return e.charAt(0).toUpperCase()+e.substring(1)}return Object(lt.jsxs)(b.b,{direction:"horizontal",children:[Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsx)(ft.a,{children:"Stats"}),Object(lt.jsxs)(Lt,{children:["Strength: ",e.stats.strength.toString()]}),Object(lt.jsxs)(Lt,{children:["Toughness: ",e.stats.toughness.toString()]}),Object(lt.jsxs)(Lt,{children:["Dexterity: ",e.stats.dexterity.toString()]}),Object(lt.jsxs)(Lt,{children:["Wisdom: ",e.stats.wisdom.toString()]}),Object(lt.jsxs)(Lt,{children:["Intelligence: ",e.stats.intelligence.toString()]}),Object(lt.jsxs)(Lt,{children:["Charisma: ",e.stats.charisma.toString()]})]}),Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsx)(ft.a,{children:"Levels"}),Object(lt.jsxs)(Lt,{children:["Level: ",e.getTotalLevel().toString()]}),Object.values(e.classModifiers).map((function(e){return Object(lt.jsxs)(Lt,{children:[t(e.getName())," level: ",e.level.toString()]},"levels-"+e.classId)}))]}),function(){var i=e.activeZone?t(e.activeZone):"No Active Zone";return Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsx)(ft.a,{children:"Activity"}),Object(lt.jsxs)(j.a.Title,{level:5,children:["Active Zone: ",i]}),Object(lt.jsx)(j.a.Title,{level:5,children:"Active Classes"}),e.activeClasses.map((function(i){var a=e.getClassModifier(i);return Object(lt.jsxs)(Lt,{children:[t(a.getName())," - ",a.level.toString()," - (",a.experience.toString(),"/",a.getExperienceRequiredToLevel().toString(),")"]},"activity-"+i)}))]})}()]})}var qt="zone";function It(e){console.log(e),e.gameState.player.addExperienceToActiveClasses(e.gameState)}function Et(){var e,t=Object(n.useContext)(ot).gameState,i=function(e){return function(){t.player.makeZoneActive(e),t.addLoopSubscription(qt,It,t.player.getZoneModifier(e).getRate())}};return Object(lt.jsxs)(b.b,{direction:"vertical",style:{width:"100%"},children:[Object(lt.jsx)(j.a.Title,{level:2,children:dt(t.player.activeZone,"Select a zone to make active")}),Object(lt.jsx)(ut,{gameLoopId:qt,rate:null===(e=t.player.getActiveZone())||void 0===e?void 0:e.getRate()}),Object(lt.jsx)(Ot.b,{dataSource:t.player.discoveredZones,renderItem:function(e){return function(e){var a=t.player.getZoneModifier(e);return Object(lt.jsxs)(Ot.b.Item,{onClick:i(e),style:{display:"block"},children:[Object(lt.jsx)(j.a.Title,{children:dt(a.getName())}),Object(lt.jsxs)(mt.a,{gutter:16,children:[Object(lt.jsx)(gt.a,{span:8,children:Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsxs)(j.a.Text,{children:["Time to Complete: ",a.getRate().toString(),"s"]}),Object(lt.jsxs)(j.a.Text,{children:["Minimum Exp Reward: ",a.getModifiedMinExp().toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Maximum Exp Reward: ",a.getModifiedMaxExp().toString()]})]})}),Object(lt.jsx)(gt.a,{span:8,children:Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsxs)(j.a.Text,{children:["Strength: ",a.getStats().strength.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Toughness: ",a.getStats().toughness.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Dexterity: ",a.getStats().dexterity.toString()]})]})}),Object(lt.jsx)(gt.a,{span:8,children:Object(lt.jsxs)(b.b,{direction:"vertical",children:[Object(lt.jsxs)(j.a.Text,{children:["Intelligence: ",a.getStats().intelligence.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Wisdom: ",a.getStats().wisdom.toString()]}),Object(lt.jsxs)(j.a.Text,{children:["Charisma: ",a.getStats().charisma.toString()]})]})})]}),Object(lt.jsx)(ft.a,{})]})}(e)},size:"large",bordered:!0,itemLayout:"vertical"})]})}var Pt=l.a.Header,Rt=l.a.Content,Vt=l.a.Sider;function At(){var e=Object(n.useState)(Object(lt.jsx)(pt,{})),t=Object(o.a)(e,2),i=t[0],a=t[1];return Object(lt.jsxs)(l.a,{children:[Object(lt.jsxs)(Vt,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:[Object(lt.jsx)("div",{className:"logo"}),Object(lt.jsxs)(u.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(lt.jsx)(u.a.Item,{onClick:function(){a(Object(lt.jsx)(pt,{}))},icon:Object(lt.jsx)(d.e,{}),children:"Class"},"1"),Object(lt.jsx)(u.a.Item,{onClick:function(){a(Object(lt.jsx)(Ct,{}))},icon:Object(lt.jsx)(d.j,{}),children:"Stats"},"2"),Object(lt.jsx)(u.a.Item,{onClick:function(){a(Object(lt.jsx)(Et,{}))},icon:Object(lt.jsx)(d.m,{}),children:"Zone"},"3"),Object(lt.jsx)(u.a.Item,{onClick:function(){a(Object(lt.jsx)(yt,{}))},icon:Object(lt.jsx)(d.l,{}),children:"Prestige"},"4"),Object(lt.jsx)(u.a.Item,{onClick:function(){a(Object(lt.jsx)(jt,{}))},icon:Object(lt.jsx)(d.b,{}),children:"Boss"},"5"),Object(lt.jsx)(u.a.Item,{onClick:function(){a(Object(lt.jsx)(Mt,{}))},icon:Object(lt.jsx)(d.f,{}),children:"Settings"},"6")]})]}),Object(lt.jsxs)(l.a,{className:"site-layout",style:{marginLeft:200},children:[Object(lt.jsx)(Pt,{className:"site-layout-background",style:{padding:0}}),Object(lt.jsx)(Rt,{style:{margin:"24px 16px 0",overflow:"initial"},children:Object(lt.jsx)("div",{className:"site-layout-background",style:{padding:24,textAlign:"center"},children:i})})]})]})}var Dt;i(218);function zt(e,t){var i,a=Object(W.a)(t);try{for(a.s();!(i=a.n()).done;){if(!i.value.requirementsMet(e))return!1}}catch(n){a.e(n)}finally{a.f()}return!0}var Gt=(Dt={},Object(h.a)(Dt,Ae.improvedConsolidating,new it({})),Object(h.a)(Dt,Ae.improvedLearning,new et({})),Object(h.a)(Dt,Ae.improvedTraining,new tt({})),Object(h.a)(Dt,Ae.monkMastery,new at({})),Dt);var Zt="unlockUnlockables";function Nt(e){var t;t=e.gameState,Object.values(qe).forEach((function(e){zt(t,e.unlockRequirements)&&t.player.unlockClass(e.id)})),function(e){Object.values(Ke).forEach((function(t){zt(e,t.unlockRequirements)&&e.player.unlockZone(t.id)}))}(e.gameState),function(e){Object.values(Gt).forEach((function(t){zt(e,t.unlockRequirements)&&e.prestige.unlockPrestigeSkill(t)}))}(e.gameState)}var Ut="saveGame";function Ft(e){St(e.gameState)}function Bt(){var e=s.a.useState(kt()),t=Object(o.a)(e,2),i=t[0],a=(t[1],s.a.useState(performance.now())),r=Object(o.a)(a,2),c=r[0],l=r[1],u={gameState:i,lastFrameTime:c};return i.loopSubscriptions.unlockUnlockables||i.addLoopSubscription(Zt,Nt,2),i.loopSubscriptions.saveGame||i.addLoopSubscription(Ut,Ft,5),i.player.activeZone&&!i.loopSubscriptions.zone&&i.addLoopSubscription(qt,It,i.player.getZoneModifier(i.player.activeZone).getRate()),function(e,t){var i=Object(n.useRef)();Object(n.useEffect)((function(){i.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){i.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){l(performance.now()),i.gameLoop(c)}),1e3/i.fps),Object(lt.jsx)(ot.Provider,{value:u,children:Object(lt.jsx)(At,{})})}I.a.config({precision:5});var Kt=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,234)).then((function(t){var i=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;i(e),a(e),n(e),s(e),r(e)}))};c.a.render(Object(lt.jsx)(s.a.StrictMode,{children:Object(lt.jsx)(Bt,{})}),document.getElementById("root")),Kt()}},[[219,1,2]]]);
//# sourceMappingURL=main.ade408b2.chunk.js.map