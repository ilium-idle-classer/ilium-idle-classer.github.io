{"version":3,"sources":["game/modifiers/allModifiers.tsx","game/loopFunctions/battle/battleEntityAttack.tsx","game/loopFunctions/battle/battleOver.tsx","game/battle/bosses/allBosses.tsx","game/stats/statsEnum.tsx","game/battle/battleEntity.tsx","game/battle/battlePlayer.tsx","game/battle/boss.tsx","game/battle/bosses/brain.tsx","game/battle/bosses/brute.tsx","game/battle/bosses/spectre.tsx","game/battle/bosses/iniitializeBoss.tsx","game/battle/battle.tsx","game/battle/bosses/bossFightOrder.tsx","game/history/history.tsx","game/modifiers/modifier.tsx","game/modifiers/modifierManager.tsx","game/stats/stats.tsx","game/classes/allClasses.tsx","game/unlockables/unlockRequirementTypes.tsx","game/unlockables/unlockRequirement.tsx","game/unlockables/bossDefeatedRequirement.tsx","game/unlockables/classLevelRequirement.tsx","game/unlockables/playerLevelRequirement.tsx","game/unlockables/prestigeCountRequirement.tsx","game/unlockables/statMinimumsRequirement.tsx","game/unlockables/loadUnlockRequirements.tsx","game/zones/allZones.tsx","game/classes/class.tsx","game/classes/baseClasses/bardPlayerClass.tsx","game/classes/baseClasses/defenderPlayerClass.tsx","game/classes/baseClasses/healerPlayerClass.tsx","game/classes/baseClasses/magePlayerClass.tsx","game/classes/baseClasses/roguePlayerClass.tsx","game/classes/baseClasses/warriorPlayerClass.tsx","game/classes/tierOneClasses/archerPlayerClass.tsx","game/classes/tierOneClasses/clericPlayerClass.tsx","game/classes/tierOneClasses/dancerPlayerClass.tsx","game/classes/tierOneClasses/fighterPlayerClass.tsx","game/classes/tierOneClasses/monkPlayerClass.tsx","game/classes/tierOneClasses/soldierPlayerClass.tsx","game/classes/tierOneClasses/wizardPlayerClass.tsx","game/classes/tierTwoClasses/enchanterPlayerClass.tsx","game/classes/tierTwoClasses/necromancerPlayerClass.tsx","game/classes/tierTwoClasses/shieldPlayerClass.tsx","game/classes/tierTwoClasses/slayerPlayerClass.tsx","game/classes/allClassesInitialized.tsx","game/player/classModifier.tsx","game/prestige/allPrestigeSkills.tsx","game/zones/zone.tsx","game/zones/baseZones/strawberryValleyFieldsZone.tsx","game/zones/tierOneZones/berryRidgeRangeZone.tsx","game/zones/tierOneZones/oldStoneFarmZone.tsx","game/zones/tierOneZones/quietSandsZone.tsx","game/zones/tierOneZones/smallPawsAcresZone.tsx","game/zones/tierTwoZones/moonshadowOrchardZone.tsx","game/zones/tierTwoZones/westwoodGardensZone.tsx","game/zones/allZonesInitialized.tsx","game/player/zoneModifier.tsx","game/player/player.tsx","game/storage/state/initialDiscoveredZones.tsx","game/storage/state/initialPlayerStats.tsx","game/storage/state/initialUnlockedClasses.tsx","game/storage/state/initialPlayer.tsx","game/prestige/prestigeSkill.tsx","game/prestige/prestigeSkills/improvedLearning.tsx","game/prestige/prestigeSkills/improvedTraining.tsx","game/prestige/prestigeSkills/improvedConsolidating.tsx","game/prestige/prestigeSkills/monkMastery.tsx","game/prestige/prestigeSkills/prestigeSkillCreator.tsx","game/prestige/prestige.tsx","game/gameState.tsx","game/storage/state/initialGameState.tsx","ui/gameContext.tsx","ui/components/gameLoopProgress.tsx","ui/helpers/capitalizeAndAddSpacing.tsx","ui/bossBattle.tsx","ui/classPicker.tsx","ui/prestigeActivation.tsx","game/storage/saveGame.tsx","game/storage/loadGame.tsx","game/storage/clearSavedGame.tsx","ui/settingsPanel.tsx","ui/statsViewer.tsx","game/loopFunctions/zones/gainRewards.tsx","ui/zonePicker.tsx","ui/pageLayout.tsx","game/unlockables/meetsAllUnlockRequirements.tsx","game/prestige/prestigeSkills/allPrestigeSkillsInitialized.tsx","game/loopFunctions/unlockables/allUnlockables.tsx","game/loopFunctions/unlockables/unlockClasses.tsx","game/loopFunctions/unlockables/unlockZones.tsx","game/loopFunctions/unlockables/unlockPrestigeSkills.tsx","game/loopFunctions/storage/saveGame.tsx","App.tsx","useInterval.js","reportWebVitals.ts","index.tsx"],"names":["AllModifiers","PLAYER_ATTACK_LOOP_ID","BOSS_ATTACK_LOOP_ID","playerAttackLoopFunction","data","battle","gameState","playerAttack","bossAttackLoopFunction","bossAttack","BATTLE_OVER_LOOP_ID","battleOverLoopFunction","player","isDefeated","stopBattle","boss","prestigePointGain","modifierManager","modifyDecimal","prestigePoints","prestige","addPoints","lastBossDefeated","id","history","addDefeatedBoss","gainRewards","removeSubscriptions","undefined","AllBosses","StatTypes","BattleEntity","hp","attackValue","defenseValue","bonusDamage","attackInterval","this","Decimal","plus","div","target","max","minus","eq","BattlePlayer","stats","get","attackStat","defenseStat","Boss","name","playerAttackStat","playerDefenseStat","Brain","brain","toughness","intelligence","Brute","brute","strength","Spectre","spectre","wisdom","charisma","initializeBoss","bossId","Error","Battle","addLoopSubscription","attack","bossFightOrder","History","bossesDefeated","defeatedBossCount","Modifier","group","additiveValue","multiplicativeValue","gains","addToStatGains","multiplyStatGains","addToGain","multiplyGain","toNumber","statGains","multiplyAllStatsValue","addAllStatsValue","gain","times","add","ModifierManager","permanentModifiers","temporaryModifiers","loadModifiers","modifierType","output","temporarytModifiers","modifyStats","modifyNumber","modifier","modifierGroup","alreadyHasModifier","findIndex","modifierItem","push","addModifierToModifierGroup","modifierMapData","key","modifierData","map","dexterity","AllClasses","Stats","incrementalStats","multiplier","additive","statName","lessThan","UnlockRequirementTypes","UnlockRequirement","classType","requiredLevel","minCount","BossDefeatedRequirement","bossDefeated","getBossDefeatedCount","ClassLevelRequirement","classLevel","unlockedClasses","includes","getClassModifier","level","greaterThanOrEqualTo","PlayerLevelRequirement","playerLevel","getTotalLevel","PrestigeCountRequirement","prestigeCount","count","StatMinimumsRequirement","statMinimums","isGreaterThanOrEqualTo","loadUnlockRequirements","unlockRequirementData","AllZones","PlayerClass","unlockRequirements","experience","levelUpStats","BardPlayerClass","updatedData","bard","DefenderPlayerClass","defender","HealerPlayerClass","healer","MagePlayerClass","mage","RoguePlayerClass","rogue","WarriorPlayerClass","warrior","ArcherPlayerClass","archer","ClericPlayerClass","cleric","DancerPlayerClass","dancer","FighterPlayerClass","fighter","MonkPlayerClass","monk","SoldierPlayerClass","soldier","WizardPlayerClass","wizard","EnchanterPlayerClass","enchanter","NecromancerPlayerClass","necromancer","ShieldPlayerClass","shield","SlayerPlayerClass","slayer","allClassesInitialized","EXP_LEVEL_EXPONENT","BASE_EXP","ClassModifier","classId","statMultiplier","baseStats","multiplyAllStats","statGain","pow","floor","playerStats","numberOfLevelUps","addStats","getModifiedStats","numberOfLevelsToGrow","getNumberOfLevelsToGrow","levelUp","AllPrestigeSkills","Zone","requiredStats","zoneKeyStats","minExp","maxExp","statIncrementalMultiplier","rate","StrawberryValleyFieldsZone","strawberryValleyFields","BerryRidgeRangeZone","berryRidgeRange","OldStoneFarmZone","oldStoneFarm","QuietSandsZone","quietSands","SmallPawsAcresZone","smallPawsAcres","MoonshadowOrchardZone","moonshadowOrchard","WestwoodGardensZone","westwoodGardens","allZonesInitialized","ZoneModifier","zoneId","removeRequirements","originalZone","modifiedMinExp","getModifiedMinExp","modifiedMaxExp","getModifiedMaxExp","modifiedStatMultiplier","length","keyStat","expMultiplier","maxMultiplierPerStat","playerStat","requiredStat","singleStatMultiplier","min","dividedBy","Object","keys","values","Player","activeClassLimit","activeClasses","classModifiers","activeZone","discoveredZones","zoneModifiers","loadClassModifiers","loadZoneModifiers","zoneModifier","classModifier","indexOf","playerClassId","getZoneModifier","shift","expReward","getExperienceReward","modifiedExpReward","experienceGain","forEach","addExperience","checkForLevelUp","classModifiersData","classModifierData","zoneModifiersData","initialDiscoveredZones","initialPlayerStats","initialUnlockedClasses","initialPlayer","PrestigeSkill","maxLevel","currentLevel","cost","numberOfPoints","totalPointCost","spendPoints","applySkill","ImprovedLearningPrestigeSkill","improvedLearning","addTemporaryModifier","ImprovedTrainingPrestigeSkill","improvedTraining","ImprovedConsolidatingPrestigeSkill","improvedConsolidating","prestigeStatsGain","MonkMasteryPrestigeSkill","monkMastery","unlockClass","createPrestigeSkill","prestigeSkill","Prestige","points","pointsToGainOnNextPrestige","prestigeSkills","basePlayer","loadPrestigeSkills","some","prestigeSkillItem","createdPrestigeSkill","unlockPrestigeSkill","pointsToAdd","pointsToSpend","isPretigeAvailable","getStatMultiplierOnPrestige","gainedStats","subtractStatsValue","newPlayer","setPlayer","GameState","fps","lastExecutionTime","loopSubscriptions","applyPrestigeSkills","executableLoopFunction","timeInterval","timeSinceLastExecution","ids","loopSubscription","frameTime","executionTime","gameLoopData","executeLoopFunction","defaultGameState","GameContext","createContext","lastFrameTime","performance","now","GameLoopProgress","gameLoopId","useContext","percent","showInfo","toCapitalizedWords","empty","words","match","capitalize","join","word","charAt","toUpperCase","substring","bossIconMap","BossBattle","appState","nextBossId","lastBossDefeatedIndex","getNextBossId","createBossDisplay","bossBattle","bossIcon","direction","Title","size","icon","Text","toString","fightButtonDisabled","onClick","disabled","createPreFightDisplay","createBattleDisplay","ClassPicker","createChangeActiveClassHandler","makeClassActive","style","width","getName","dataSource","renderItem","item","Item","display","gutter","span","getExperienceRequiredToLevel","generateClassListItem","bordered","itemLayout","PRESTIGE_SKILL_ICON_MAP","PrestigeActivation","createPrestigeSkillClickHandler","increaseLevel","getRequiredLevel","activatePrestige","grid","GAME_SAVE_KEY","saveGame","window","localStorage","setItem","JSON","stringify","saveGameToLocalStorage","loadGameFromLocalStorage","gameData","getItem","parse","err","console","log","clearSavedGameFromLocalStorage","removeItem","SettingsPanel","location","reload","Typography","StatsViewer","activeZoneName","createActivityPanel","ZONE_LOOP_ID","addExperienceToActiveClasses","ZonePicker","createSetActiveZoneHandler","makeZoneActive","getRate","getActiveZone","getStats","generateZoneListItem","Header","Layout","Content","Sider","PageLayout","useState","mainContent","setMainContent","overflow","height","position","left","className","theme","mode","defaultSelectedKeys","marginLeft","padding","margin","textAlign","meetsAllUnlockRequirements","requirementsMet","allPrestigeSkillsInitialized","UNLOCK_UNLOCKABLES_LOOP_ID","unlockAllUnlockables","playerClass","zone","unlockZone","unlockZones","unlockPrestigeSkills","SAVE_GAME_LOOP_ID","saveGameLoopFunction","App","React","setLastFrameTime","callback","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","useInterval","gameLoop","Provider","value","config","precision","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ade408b2.chunk.js","sourcesContent":["export enum AllModifiers {\n    experienceGain = \"experienceGain\",\n    prestigePointGain = \"prestigePointGain\",\n    statGain = \"statGain\",\n    prestigeStatsGain = \"prestigeStatsGain\"\n}","import { GameLoopData } from \"../../gameState\";\n\nexport const PLAYER_ATTACK_LOOP_ID = 'playerAttack';\nexport const BOSS_ATTACK_LOOP_ID = 'bossAttack';\n\nexport function playerAttackLoopFunction(data: GameLoopData) {\n    const battle = data.gameState.battle;\n    if (battle) {\n        battle.playerAttack();\n    }\n}\n\nexport function bossAttackLoopFunction(data: GameLoopData) {\n    const battle = data.gameState.battle;\n    if (battle) {\n        battle.bossAttack();\n    }\n}","import Battle from \"../../battle/battle\";\nimport GameState, { GameLoopData } from \"../../gameState\";\nimport { AllModifiers } from \"../../modifiers/allModifiers\";\nimport { BOSS_ATTACK_LOOP_ID, PLAYER_ATTACK_LOOP_ID } from \"./battleEntityAttack\";\n\nexport const BATTLE_OVER_LOOP_ID = 'battleOver';\n\nexport function battleOverLoopFunction(data: GameLoopData) {\n    const battle = data.gameState.battle;\n    if (battle) {\n        if (battle.player.isDefeated()) {\n            stopBattle(data.gameState);\n        } else if (battle.boss.isDefeated()) {\n            gainRewards(data.gameState, battle);\n            stopBattle(data.gameState);\n        }\n    }\n}\n\nfunction gainRewards(gameState: GameState, battle: Battle) {\n    const prestigePointGain = gameState.modifierManager.modifyDecimal(battle.boss.prestigePoints, AllModifiers.prestigePointGain);\n    gameState.prestige.addPoints(prestigePointGain);\n    gameState.player.lastBossDefeated = battle.boss.id;\n    gameState.history.addDefeatedBoss(battle.boss.id);\n}\n\nfunction stopBattle(gameState: GameState) {\n    gameState.removeSubscriptions([BATTLE_OVER_LOOP_ID, PLAYER_ATTACK_LOOP_ID, BOSS_ATTACK_LOOP_ID]);\n    gameState.battle = undefined;\n}","export enum AllBosses {\n    brute = \"brute\",\n    spectre = \"spectre\",\n    brain = \"brain\",\n}","export enum StatTypes {\n    strength = 'strength',\n    toughness = 'toughness',\n    wisdom = 'wisdom',\n    dexterity = 'dexterity',\n    charisma = 'charisma',\n    intelligence = 'intelligence'\n}","import Decimal from \"decimal.js\";\n\nexport interface BattleEntityData {\n    attackValue: Decimal | string,\n    defenseValue: Decimal | string,\n    bonusDamage?: Decimal | string,\n    attackInterval?: number\n}\n\nexport default class BattleEntity {\n    hp: Decimal;\n    attackValue: Decimal;\n    defenseValue: Decimal;\n    bonusDamage: Decimal;\n    attackInterval: number;\n\n    constructor(data: BattleEntityData) {\n        this.attackValue = new Decimal(data.attackValue);\n        this.defenseValue = new Decimal(data.defenseValue);\n        this.bonusDamage = data.bonusDamage ? new Decimal(data.bonusDamage) : new Decimal(1);\n        this.attackInterval = data.attackInterval ? data.attackInterval : 5;\n        this.hp = this.attackValue.plus(this.defenseValue).div(5);\n    }\n\n    attack(target: BattleEntity) {\n        target.hp = Decimal.max(target.hp.minus(Decimal.max(this.attackValue.minus(target.defenseValue), 0)), 0);\n    }\n\n    isDefeated() {\n        return this.hp.eq(0);\n    }\n}","import Player from \"../player/player\";\nimport { StatTypes } from \"../stats/statsEnum\";\nimport BattleEntity from \"./battleEntity\";\n\nexport interface BattlePlayerData {\n    player: Player,\n    attackStat: StatTypes,\n    defenseStat: StatTypes,\n}\n\nexport default class BattlePlayer extends BattleEntity {\n    constructor(data: BattlePlayerData) {\n        super({\n            attackValue: data.player.stats.get(data.attackStat),\n            defenseValue: data.player.stats.get(data.defenseStat),\n        });\n    }\n}","import Decimal from \"decimal.js\";\nimport { StatTypes } from \"../stats/statsEnum\";\nimport BattleEntity, { BattleEntityData } from \"./battleEntity\";\nimport { AllBosses } from \"./bosses/allBosses\";\n\nexport interface BossData extends BattleEntityData {\n    id: AllBosses,\n    name: string,\n    prestigePoints: Decimal | string,\n    playerAttackStat: StatTypes,\n    playerDefenseStat: StatTypes\n}\n\nexport default class Boss extends BattleEntity {\n    id: AllBosses;\n    name: string;\n    prestigePoints: Decimal;\n    playerAttackStat: StatTypes;\n    playerDefenseStat: StatTypes;\n\n    constructor(data: BossData) {\n        super(data);\n        this.prestigePoints = new Decimal(data.prestigePoints);\n        this.id = data.id;\n        this.name = data.name;\n        this.playerAttackStat = data.playerAttackStat;\n        this.playerDefenseStat = data.playerDefenseStat;\n    }\n}","import { StatTypes } from \"../../stats/statsEnum\";\nimport Boss from \"../boss\";\nimport { AllBosses } from \"./allBosses\";\n\n\nexport default class Brain extends Boss {\n    constructor() {\n        super({\n            id: AllBosses.brain,\n            name: AllBosses.brain,\n            prestigePoints: '100',\n            attackValue: '1000000',\n            defenseValue: '500000',\n            attackInterval: 4.5,\n            playerAttackStat: StatTypes.toughness,\n            playerDefenseStat: StatTypes.intelligence\n        });\n    }\n}","import { StatTypes } from \"../../stats/statsEnum\";\nimport Boss from \"../boss\";\nimport { AllBosses } from \"./allBosses\";\n\n\nexport default class Brute extends Boss {\n    constructor() {\n        super({\n            id: AllBosses.brute,\n            name: AllBosses.brute,\n            prestigePoints: '1',\n            attackValue: '2500',\n            defenseValue: '2500',\n            playerAttackStat: StatTypes.strength,\n            playerDefenseStat: StatTypes.toughness\n        });\n    }\n}","import { StatTypes } from \"../../stats/statsEnum\";\nimport Boss from \"../boss\";\nimport { AllBosses } from \"./allBosses\";\n\n\nexport default class Spectre extends Boss {\n    constructor() {\n        super({\n            id: AllBosses.spectre,\n            name: AllBosses.spectre,\n            prestigePoints: '10',\n            attackValue: '25000',\n            defenseValue: '25000',\n            playerAttackStat: StatTypes.wisdom,\n            playerDefenseStat: StatTypes.charisma\n        });\n    }\n}","import Boss from \"../boss\";\nimport { AllBosses } from \"./allBosses\";\nimport Brain from \"./brain\";\nimport Brute from \"./brute\";\nimport Spectre from \"./spectre\";\n\nexport default function initializeBoss(bossId: AllBosses): Boss {\n    switch (bossId) {\n        case AllBosses.brute:\n            return new Brute();\n        case AllBosses.spectre:\n            return new Spectre();\n        case AllBosses.brain:\n            return new Brain();\n        default:\n            throw new Error('Invalid bossId');\n    }\n}","import GameState from \"../gameState\";\nimport { bossAttackLoopFunction, BOSS_ATTACK_LOOP_ID, playerAttackLoopFunction, PLAYER_ATTACK_LOOP_ID } from \"../loopFunctions/battle/battleEntityAttack\";\nimport { battleOverLoopFunction, BATTLE_OVER_LOOP_ID } from \"../loopFunctions/battle/battleOver\";\nimport BattlePlayer from \"./battlePlayer\";\nimport Boss from \"./boss\";\nimport { AllBosses } from \"./bosses/allBosses\";\nimport initializeBoss from \"./bosses/iniitializeBoss\";\n\nexport interface BattleData {\n    bossId: AllBosses\n    gameState: GameState\n}\n\nexport default class Battle {\n    boss: Boss;\n    player: BattlePlayer;\n\n    constructor(data: BattleData) {\n        this.boss = initializeBoss(data.bossId);\n        this.player = new BattlePlayer({\n            player: data.gameState.player,\n            attackStat: this.boss.playerAttackStat,\n            defenseStat: this.boss.playerDefenseStat\n        });\n        data.gameState.addLoopSubscription(PLAYER_ATTACK_LOOP_ID, playerAttackLoopFunction, this.player.attackInterval);\n        data.gameState.addLoopSubscription(BOSS_ATTACK_LOOP_ID, bossAttackLoopFunction, this.boss.attackInterval);\n        data.gameState.addLoopSubscription(BATTLE_OVER_LOOP_ID, battleOverLoopFunction);\n    }\n\n    playerAttack() {\n        this.player.attack(this.boss);\n    }\n\n    bossAttack() {\n        this.boss.attack(this.player);\n    }\n}","import GameState from \"../../gameState\";\nimport { AllBosses } from \"./allBosses\";\n\nconst bossFightOrder = [\n    AllBosses.brute,\n    AllBosses.spectre,\n    AllBosses.brain,\n];\n\nexport default function getNextBossId(gameState: GameState) {\n    if (!gameState.player.lastBossDefeated) {\n        return bossFightOrder[0];\n    } else {\n        const lastBossDefeatedIndex = bossFightOrder.indexOf(gameState.player.lastBossDefeated);\n        if (lastBossDefeatedIndex === -1) {\n            return null;\n        } else if (lastBossDefeatedIndex + 1 >= bossFightOrder.length) {\n            return null;\n        } else {\n            return bossFightOrder[lastBossDefeatedIndex + 1];\n        }\n    }\n};","import { AllBosses } from \"../battle/bosses/allBosses\"\n\nexport type BossesDefeated = {\n    [key in AllBosses]?: number\n}\n\nexport interface HistoryData {\n    bossesDefeated?: BossesDefeated\n}\n\nexport default class History {\n    bossesDefeated: BossesDefeated\n\n    constructor(data: HistoryData) {\n        this.bossesDefeated = data.bossesDefeated ? { ...data.bossesDefeated } : {};\n    }\n\n    addDefeatedBoss(bossId: AllBosses) {\n        const defeatedBossCount = this.bossesDefeated[bossId] || 0;\n        this.bossesDefeated[bossId] = defeatedBossCount + 1;\n    }\n\n    getBossDefeatedCount(bossId: AllBosses) {\n        return this.bossesDefeated[bossId] || 0\n    }\n}","import Decimal from \"decimal.js\";\nimport Stats from \"../stats/stats\";\nimport { AllModifiers } from \"./allModifiers\";\n\nexport type Gains = Stats | Decimal | number\n\nexport interface ModifierData {\n    id: string\n    group: AllModifiers\n    additiveValue?: Decimal | string\n    multiplicativeValue?: Decimal | string\n}\n\nexport default class Modifier {\n    id: string\n    group: AllModifiers\n    additiveValue: Decimal\n    multiplicativeValue: Decimal\n\n    constructor(data: ModifierData) {\n        this.id = data.id;\n        this.group = data.group;\n        this.additiveValue = data.additiveValue ? new Decimal(data.additiveValue) : new Decimal(0);\n        this.multiplicativeValue = data.multiplicativeValue ? new Decimal(data.multiplicativeValue) : new Decimal(1);\n    }\n\n    modifyStats(gains: Stats) {\n        return this.addToStatGains(this.multiplyStatGains(gains));\n    }\n\n    modifyDecimal(gains: Decimal) {\n        return this.addToGain(this.multiplyGain(gains));\n    }\n\n    modifyNumber(gains: number) {\n        return this.addToGain(this.multiplyGain(gains)).toNumber();\n    }\n\n    multiplyStatGains(statGains: Stats) {\n        return statGains.multiplyAllStatsValue(this.multiplicativeValue);\n    }\n\n    addToStatGains(statGains: Stats) {\n        return statGains.addAllStatsValue(this.additiveValue);\n    }\n\n    multiplyGain(gain: Decimal | number) {\n        return this.multiplicativeValue.times(gain);\n    }\n\n    addToGain(gain: Decimal | number) {\n        return this.additiveValue.add(gain);\n    }\n}","import Decimal from \"decimal.js\";\nimport Stats from \"../stats/stats\";\nimport { AllModifiers } from \"./allModifiers\";\nimport Modifier, { Gains, ModifierData } from \"./modifier\";\n\nexport type ModifierMapData = {\n    [key in AllModifiers]?: Array<Modifier | ModifierData>\n}\n\nexport type ModifierMap = {\n    [key in AllModifiers]?: Array<Modifier>\n}\n\nexport interface ModifierManagerData {\n    permanentModifiers?: ModifierMapData\n}\n\nexport default class ModifierManager {\n    permanentModifiers: ModifierMap\n    temporaryModifiers: ModifierMap\n\n    constructor(data: ModifierManagerData) {\n        this.permanentModifiers = this.loadModifiers(data.permanentModifiers);\n        this.temporaryModifiers = {};\n    }\n\n    modifyStats(gains: Stats, modifierType: AllModifiers) {\n        let output = gains;\n        const permanentModifiers = this.permanentModifiers[modifierType];\n        const temporarytModifiers = this.temporaryModifiers[modifierType];\n\n        if (permanentModifiers) {\n            for (const modifier of permanentModifiers) {\n                output = modifier.modifyStats(output);\n            }\n        }\n\n        if (temporarytModifiers) {\n            for (const modifier of temporarytModifiers) {\n                output = modifier.modifyStats(output);\n            }\n        }\n\n        return output;\n    }\n\n    modifyDecimal(gains: Decimal, modifierType: AllModifiers) {\n        let output = gains;\n        const permanentModifiers = this.permanentModifiers[modifierType];\n        const temporarytModifiers = this.temporaryModifiers[modifierType];\n\n        if (permanentModifiers) {\n            for (const modifier of permanentModifiers) {\n                output = modifier.modifyDecimal(output);\n            }\n        }\n\n        if (temporarytModifiers) {\n            for (const modifier of temporarytModifiers) {\n                output = modifier.modifyDecimal(output);\n            }\n        }\n\n        return output;\n    }\n\n    modifyNumber(gains: number, modifierType: AllModifiers) {\n        let output = gains;\n        const permanentModifiers = this.permanentModifiers[modifierType];\n        const temporarytModifiers = this.temporaryModifiers[modifierType];\n\n        if (permanentModifiers) {\n            for (const modifier of permanentModifiers) {\n                output = modifier.modifyNumber(output);\n            }\n        }\n\n        if (temporarytModifiers) {\n            for (const modifier of temporarytModifiers) {\n                output = modifier.modifyNumber(output);\n            }\n        }\n\n        return output;\n    }\n\n    private addModifierToModifierGroup(modifier: Modifier, modifierGroup: Array<Modifier>) {\n        const alreadyHasModifier = modifierGroup.findIndex(modifierItem => {\n            if (modifier.id === modifierItem.id) {\n                return true;\n            }\n\n            return false;\n        });\n\n        if (alreadyHasModifier >= 0) {\n            modifierGroup[alreadyHasModifier] = modifier;\n        } else {\n            modifierGroup.push(modifier);\n        }\n    }\n\n    addTemporaryModifier(modifier: Modifier) {\n        const modifierGroup = this.temporaryModifiers[modifier.group];\n\n        if (!modifierGroup) {\n            this.temporaryModifiers[modifier.group] = [modifier]\n        } else {\n            this.addModifierToModifierGroup(modifier, modifierGroup);\n        }\n    }\n\n    addPermanentModifier(modifier: Modifier) {\n        const modifierGroup = this.permanentModifiers[modifier.group];\n\n        if (!modifierGroup) {\n            this.permanentModifiers[modifier.group] = [modifier]\n        } else {\n            this.addModifierToModifierGroup(modifier, modifierGroup);\n        }\n    }\n\n    loadModifiers(modifierMapData?: ModifierMapData): ModifierMap {\n        const output: ModifierMap = {};\n        let key: keyof typeof AllModifiers;\n\n        if (!modifierMapData) {\n            return output;\n        }\n\n        for (key in modifierMapData) {\n            const modifierData = modifierMapData[key];\n            if (modifierData) {\n                output[key] = modifierData.map(data => {\n                    return new Modifier(data);\n                });\n            }\n        }\n\n        return output;\n    }\n}","import Decimal from \"decimal.js\";\nimport { StatTypes } from \"./statsEnum\";\n\nexport interface StatsData {\n    [StatTypes.strength]: string | Decimal;\n    [StatTypes.toughness]: string | Decimal;\n    [StatTypes.wisdom]: string | Decimal;\n    [StatTypes.dexterity]: string | Decimal;\n    [StatTypes.charisma]: string | Decimal;\n    [StatTypes.intelligence]: string | Decimal;\n}\n\nexport default class Stats {\n    [StatTypes.strength]: Decimal;\n    [StatTypes.toughness]: Decimal;\n    [StatTypes.wisdom]: Decimal;\n    [StatTypes.dexterity]: Decimal;\n    [StatTypes.charisma]: Decimal;\n    [StatTypes.intelligence]: Decimal;\n\n    constructor(data: StatsData) {\n        this.strength = new Decimal(data.strength);\n        this.toughness = new Decimal(data.toughness);\n        this.wisdom = new Decimal(data.wisdom);\n        this.dexterity = new Decimal(data.dexterity);\n        this.charisma = new Decimal(data.charisma);\n        this.intelligence = new Decimal(data.intelligence);\n    }\n\n    addStats(incrementalStats: Stats) {\n        this.strength = this.strength.plus(incrementalStats.strength);\n        this.toughness = this.toughness.plus(incrementalStats.toughness);\n        this.wisdom = this.wisdom.plus(incrementalStats.wisdom);\n        this.dexterity = this.dexterity.plus(incrementalStats.dexterity);\n        this.charisma = this.charisma.plus(incrementalStats.charisma);\n        this.intelligence = this.intelligence.plus(incrementalStats.intelligence);\n    }\n\n    subtractStatsValue(incrementalStats: Stats) {\n        return new Stats({\n            [StatTypes.strength]: this.strength.minus(incrementalStats.strength),\n            [StatTypes.toughness]: this.toughness.minus(incrementalStats.toughness),\n            [StatTypes.wisdom]: this.wisdom.minus(incrementalStats.wisdom),\n            [StatTypes.dexterity]: this.dexterity.minus(incrementalStats.dexterity),\n            [StatTypes.charisma]: this.charisma.minus(incrementalStats.charisma),\n            [StatTypes.intelligence]: this.intelligence.minus(incrementalStats.intelligence),\n        });\n    }\n\n    multiplyAllStats(multiplier: Decimal | number) {\n        this.strength = this.strength.times(multiplier);\n        this.toughness = this.toughness.times(multiplier);\n        this.wisdom = this.wisdom.times(multiplier);\n        this.dexterity = this.dexterity.times(multiplier);\n        this.charisma = this.charisma.times(multiplier);\n        this.intelligence = this.intelligence.times(multiplier);\n        return this;\n    }\n\n    multiplyAllStatsValue(multiplier: Decimal | number) {\n        return new Stats({\n            [StatTypes.strength]: this.strength.times(multiplier),\n            [StatTypes.toughness]: this.toughness.times(multiplier),\n            [StatTypes.wisdom]: this.wisdom.times(multiplier),\n            [StatTypes.dexterity]: this.dexterity.times(multiplier),\n            [StatTypes.charisma]: this.charisma.times(multiplier),\n            [StatTypes.intelligence]: this.intelligence.times(multiplier),\n        });\n    }\n\n    addAllStatsValue(additive: Decimal | number) {\n        return new Stats({\n            [StatTypes.strength]: this.strength.plus(additive),\n            [StatTypes.toughness]: this.toughness.plus(additive),\n            [StatTypes.wisdom]: this.wisdom.plus(additive),\n            [StatTypes.dexterity]: this.dexterity.plus(additive),\n            [StatTypes.charisma]: this.charisma.plus(additive),\n            [StatTypes.intelligence]: this.intelligence.plus(additive),\n        });\n    }\n\n    get(statName: StatTypes) {\n        return this[statName];\n    }\n\n    isGreaterThanOrEqualTo(stats: Stats) {\n        if (this[StatTypes.strength].lessThan(stats[StatTypes.strength])) {\n            return false;\n        }\n        if (this[StatTypes.toughness].lessThan(stats[StatTypes.toughness])) {\n            return false;\n        }\n        if (this[StatTypes.dexterity].lessThan(stats[StatTypes.dexterity])) {\n            return false;\n        }\n        if (this[StatTypes.wisdom].lessThan(stats[StatTypes.wisdom])) {\n            return false;\n        }\n        if (this[StatTypes.intelligence].lessThan(stats[StatTypes.intelligence])) {\n            return false;\n        }\n        if (this[StatTypes.charisma].lessThan(stats[StatTypes.charisma])) {\n            return false;\n        }\n        return true;\n    }\n}","export enum AllClasses {\n    bard = \"bard\",\n    warrior = \"warrior\",\n    healer = \"healer\",\n    defender = \"defender\",\n    mage = \"mage\",\n    rogue = \"rogue\",\n    archer = \"archer\",\n    fighter = \"fighter\",\n    soldier = \"soldier\",\n    wizard = \"wizard\",\n    cleric = \"cleric\",\n    dancer = \"dancer\",\n    monk = \"monk\",\n    slayer = \"slayer\",\n    enchanter = \"enchanter\",\n    necromancer = \"necromancer\",\n    shield = \"shield\",\n    /*\n    assassin = \"assassin\",\n    ninja = \"ninja\",\n    spellslinger = \"spellslinger\",\n    hunter = \"hunter\",\n    ranger = \"ranger\",\n    berserker = \"berserker\",\n    priest = \"priest\",    \n    shadowknight = \"shadowknight\",\n    summoner = \"summoner\",\n    dragoon = \"dragoon\",\n    lancer = \"lancer\",\n    paladin = \"paladin\",\n    druid = \"druid\",\n    empath = \"empath\",\n    battlesinger = \"battlesinger\",\n    fleshwarper = \"fleshwarper\",\n    infiltrator = \"infiltrator\",\n    lich = \"lich\",\n    riddler = \"riddler\",\n    sapper = \"sapper\",\n    wordsmith = \"wordsmith\",\n    truthsayer = \"truthsayer\",\n    skald = \"skald\",\n    sniper = \"sniper\",\n    spy = \"spy\",\n    thief = \"thief\"\n    */\n}","export enum UnlockRequirementTypes {\n    classLevel = \"classLevel\",\n    playerLevel = \"playerLevel\",\n    statMinimums = \"statMinimums\",\n    bossDefeated = \"bossDefeated\",\n    prestigeCount = \"prestigeCount\"\n}","import Decimal from \"decimal.js\";\nimport { AllBosses } from \"../battle/bosses/allBosses\";\nimport { AllClasses } from \"../classes/allClasses\";\nimport GameState from \"../gameState\";\nimport Stats, { StatsData } from \"../stats/stats\";\nimport { UnlockRequirementTypes } from \"./unlockRequirementTypes\";\n\nexport interface UnlockRequirementData {\n    id: UnlockRequirementTypes\n    classType?: AllClasses,\n    requiredLevel?: Decimal | string\n    stats?: Stats | StatsData\n    bossId?: AllBosses,\n    minCount?: number,\n}\n\nexport default abstract class UnlockRequirement {\n    id: UnlockRequirementTypes;\n    classType?: AllClasses;\n    requiredLevel?: Decimal;\n    stats?: Stats;\n    bossId?: AllBosses;\n    minCount?: number;\n\n    constructor(data: UnlockRequirementData) {\n        this.id = data.id;\n    }\n\n    abstract requirementsMet(gameState: GameState): boolean\n}","import { AllBosses } from \"../battle/bosses/allBosses\";\nimport gameState from \"../gameState\";\nimport UnlockRequirement from \"./unlockRequirement\";\nimport { UnlockRequirementTypes } from \"./unlockRequirementTypes\";\n\nexport interface BossDefeatedRequirementData {\n    bossId?: AllBosses,\n    minCount?: number\n}\n\nexport default class BossDefeatedRequirement extends UnlockRequirement {\n    bossId: AllBosses\n    minCount: number\n\n    constructor(data: BossDefeatedRequirementData) {\n        super({\n            id: UnlockRequirementTypes.bossDefeated\n        });\n        if (!data.bossId) {\n            throw new Error('bossId is required');\n        }\n\n        if (!data.minCount) {\n            throw new Error('minCount is required');\n        }\n\n        this.bossId = data.bossId;\n        this.minCount = data.minCount;\n    }\n\n    requirementsMet(gameState: gameState): boolean {\n        if (gameState.history.getBossDefeatedCount(this.bossId) >= this.minCount) {\n            return true;\n        }\n\n        return false;\n    }\n}","import Decimal from \"decimal.js\";\nimport { AllClasses } from \"../classes/allClasses\";\nimport gameState from \"../gameState\";\nimport UnlockRequirement from \"./unlockRequirement\";\nimport { UnlockRequirementTypes } from \"./unlockRequirementTypes\";\n\nexport interface ClassLevelRequirementData {\n    classType?: AllClasses,\n    requiredLevel?: Decimal | string\n}\n\nexport default class ClassLevelRequirement extends UnlockRequirement {\n    classType: AllClasses;\n    requiredLevel: Decimal;\n\n    constructor(data: ClassLevelRequirementData) {\n        super({\n            id: UnlockRequirementTypes.classLevel\n        });\n        if (!data.classType) {\n            throw new Error('classType is required');\n        }\n        if (!data.requiredLevel) {\n            throw new Error('requiredLevel is required');\n        }\n        this.classType = data.classType;\n        this.requiredLevel = new Decimal(data.requiredLevel);\n    }\n\n    requirementsMet(gameState: gameState): boolean {\n        if (gameState.player.unlockedClasses.includes(this.classType)) {\n            const classModifier = gameState.player.getClassModifier(this.classType);\n            if (classModifier.level.greaterThanOrEqualTo(this.requiredLevel)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n}","import Decimal from \"decimal.js\";\nimport gameState from \"../gameState\";\nimport UnlockRequirement from \"./unlockRequirement\";\nimport { UnlockRequirementTypes } from \"./unlockRequirementTypes\";\n\nexport interface PlayerLevelRequirementData {\n    requiredLevel?: Decimal | string\n}\n\nexport default class PlayerLevelRequirement extends UnlockRequirement {\n    requiredLevel: Decimal;\n\n    constructor(data: PlayerLevelRequirementData) {\n        super({\n            id: UnlockRequirementTypes.playerLevel\n        });\n        if (!data.requiredLevel) {\n            throw new Error('requiredLevel is required');\n        }\n        this.requiredLevel = new Decimal(data.requiredLevel);\n    }\n\n    requirementsMet(gameState: gameState): boolean {\n        if (gameState.player.getTotalLevel().greaterThanOrEqualTo(this.requiredLevel)) {\n            return true;\n        }\n\n        return false;\n    }\n\n}","import gameState from \"../gameState\";\nimport UnlockRequirement from \"./unlockRequirement\";\nimport { UnlockRequirementTypes } from \"./unlockRequirementTypes\";\n\nexport interface PrestigeCountRequirementData {\n    minCount?: number,\n}\n\nexport default class PrestigeCountRequirement extends UnlockRequirement {\n    minCount: number\n\n    constructor(data: PrestigeCountRequirementData) {\n        super({\n            id: UnlockRequirementTypes.prestigeCount\n        });\n\n        if (!data.minCount) {\n            throw new Error('minCount is required');\n        }\n\n        this.minCount = data.minCount;\n    }\n\n    requirementsMet(gameState: gameState): boolean {\n        if (gameState.prestige.count >= this.minCount) {\n            return true;\n        }\n\n        return false;\n    }\n}","import gameState from \"../gameState\";\nimport Stats, { StatsData } from \"../stats/stats\";\nimport UnlockRequirement from \"./unlockRequirement\";\nimport { UnlockRequirementTypes } from \"./unlockRequirementTypes\";\n\nexport interface StatMinimumsRequirementData {\n    stats?: Stats | StatsData\n}\n\nexport default class StatMinimumsRequirement extends UnlockRequirement {\n    stats: Stats;\n\n    constructor(data: StatMinimumsRequirementData) {\n        super({\n            id: UnlockRequirementTypes.statMinimums\n        });\n        if (!data.stats) {\n            throw new Error('stats are required');\n        }\n        this.stats = new Stats(data.stats);\n    }\n\n    requirementsMet(gameState: gameState): boolean {\n        if (gameState.player.stats.isGreaterThanOrEqualTo(this.stats)) {\n            return true;\n        }\n\n        return false;\n    }\n\n}","import BossDefeatedRequirement from \"./bossDefeatedRequirement\";\nimport ClassLevelRequirement from \"./classLevelRequirement\";\nimport PlayerLevelRequirement from \"./playerLevelRequirement\";\nimport PrestigeCountRequirement from \"./prestigeCountRequirement\";\nimport StatMinimumsRequirement from \"./statMinimumsRequirement\";\nimport UnlockRequirement, { UnlockRequirementData } from \"./unlockRequirement\";\nimport { UnlockRequirementTypes } from \"./unlockRequirementTypes\";\n\nexport default function loadUnlockRequirements(data: Array<UnlockRequirement | UnlockRequirementData>): Array<UnlockRequirement> {\n    const output: Array<UnlockRequirement> = [];\n    for (const unlockRequirementData of data) {\n        if (unlockRequirementData.id === UnlockRequirementTypes.classLevel) {\n            output.push(new ClassLevelRequirement(unlockRequirementData));\n        } else if (unlockRequirementData.id === UnlockRequirementTypes.playerLevel) {\n            output.push(new PlayerLevelRequirement(unlockRequirementData));\n        } else if (unlockRequirementData.id === UnlockRequirementTypes.statMinimums) {\n            output.push(new StatMinimumsRequirement(unlockRequirementData));\n        } else if (unlockRequirementData.id === UnlockRequirementTypes.bossDefeated) {\n            output.push(new BossDefeatedRequirement(unlockRequirementData));\n        } else if (unlockRequirementData.id === UnlockRequirementTypes.prestigeCount) {\n            output.push(new PrestigeCountRequirement(unlockRequirementData));\n        }\n    }\n    return output;\n}","export enum AllZones {\n    strawberryValleyFields = \"strawberryValleyFields\",\n    smallPawsAcres = \"smallPawsAcres\",\n    berryRidgeRange = \"berryRidgeRange\",\n    oldStoneFarm = \"oldStoneFarm\",\n    quietSands = \"quietSands\",\n    westwoodGardens = \"westwoodGardens\",\n    moonshadowOrchard = \"moonshadowOrchard\",\n    /*\n    littleRange = \"littleRange\",\n    rattlesnakeFarm = \"rattlesnakeFarm\",\n    silverbellGardens = \"silverbellGardens\",\n    firebranchNursery = \"firebranchNursery\",\n    theDryBurrows = \"theDryBurrows\",\n    theDepravedDungeon = \"theDepravedDungeon\",\n    theBloodfallLabyrinth = \"theBloodfallLabyrinth\",\n    theFalseTombs = \"theFalseTombs\",\n    theBrilliantPits = \"theBrilliantPits\",\n    theWhiteCells = \"theWhiteCells\",\n    theAbysmalVault = \"theAbysmalVault\",\n    theArticQuarters = \"theArticQuarters\",\n    theFabledLair = \"theFabledLair\",\n    vaultOfTheMadWolf = \"vaultOfTheMadWolf\",\n    redwind = \"redwind\",\n    dewport = \"dewport\",\n    southbarrow = \"southbarrow\",\n    highvein = \"highvein\",\n    starguard = \"starguard\",\n    pearlgate = \"pearlgate\",\n    stillkeep = \"stillkeep\",\n    ebonfair = \"ebonfair\",\n    stormstar = \"stormstar\",\n    ragetide = \"ragetide\",\n    bellpoint = \"bellpoint\",\n    sandshire = \"sandshire\",\n    theSinisterArena = \"theSinisterArena\",\n    theFuryStadium = \"theFuryStadium\",\n    theSanguineArena = \"theSanguineArena\",\n    theAcidArena = \"theAcidArena\",\n    wonderingSeafront = \"wonderingSeafront\",\n    minidownStrand = \"minidownStrand\",\n    delfilBay = \"delfilBay\",\n    barringwinBeach = \"barringwinBeach\",\n    malarshallPoint = \"malarshallPoint\",\n    blainlandBank = \"blainlandBank\",\n    darkShore = \"darkShore\",\n    ablomarrySchoolOfSorcery = \"ablomarrySchoolOfSorcery\",\n    bexrithsAcademyOfSpells = \"bexrithsAcademyOfSpells\",\n    trokwerthAcademyOfSorcery = \"trokwerthAcademyOfSorcery\",\n    clausinnsAcademyOfMagics = \"clausinnsAcademyOfMagics\"\n    */\n}","import Decimal from \"decimal.js\";\nimport Stats, { StatsData } from \"../stats/stats\";\nimport loadUnlockRequirements from \"../unlockables/loadUnlockRequirements\";\nimport UnlockRequirement, { UnlockRequirementData } from \"../unlockables/unlockRequirement\";\nimport { AllClasses } from \"./allClasses\";\n\n\nexport interface PlayerClassImplementationData {\n    experience: Decimal | string;\n}\nexport interface PlayerClassData {\n    id: AllClasses,\n    name: string;\n    unlockRequirements?: Array<UnlockRequirement | UnlockRequirementData>;\n    level?: Decimal | string;\n    experience: Decimal | string;\n    levelUpStats: Stats | StatsData;\n}\n\nexport default class PlayerClass {\n    id: AllClasses;\n    name: string;\n    unlockRequirements: Array<UnlockRequirement>;\n    level: Decimal;\n    experience: Decimal;\n    levelUpStats: Stats;\n\n    constructor(data: PlayerClassData) {\n        this.id = data.id;\n        this.name = data.name;\n        this.unlockRequirements = data.unlockRequirements ? loadUnlockRequirements(data.unlockRequirements) : [];\n        this.level = data.level ? new Decimal(data.level) : new Decimal(0);\n        this.experience = new Decimal(data.experience);\n        this.levelUpStats = new Stats(data.levelUpStats);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\nexport default class BardPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.bard,\n            name: AllClasses.bard,\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '1',\n                [StatTypes.toughness]: '1',\n                [StatTypes.wisdom]: '1',\n                [StatTypes.dexterity]: '3',\n                [StatTypes.charisma]: '5',\n                [StatTypes.intelligence]: '1'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\nexport default class DefenderPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.defender,\n            name: AllClasses.defender,\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '3',\n                [StatTypes.toughness]: '5',\n                [StatTypes.wisdom]: '1',\n                [StatTypes.dexterity]: '1',\n                [StatTypes.charisma]: '1',\n                [StatTypes.intelligence]: '1'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\nexport default class HealerPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.healer,\n            name: AllClasses.healer,\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '1',\n                [StatTypes.toughness]: '1',\n                [StatTypes.wisdom]: '5',\n                [StatTypes.dexterity]: '1',\n                [StatTypes.charisma]: '1',\n                [StatTypes.intelligence]: '3'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\nexport default class MagePlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.mage,\n            name: AllClasses.mage,\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '1',\n                [StatTypes.toughness]: '1',\n                [StatTypes.wisdom]: '3',\n                [StatTypes.dexterity]: '1',\n                [StatTypes.charisma]: '1',\n                [StatTypes.intelligence]: '5'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\nexport default class RoguePlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.rogue,\n            name: AllClasses.rogue,\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '1',\n                [StatTypes.toughness]: '1',\n                [StatTypes.wisdom]: '1',\n                [StatTypes.dexterity]: '5',\n                [StatTypes.charisma]: '3',\n                [StatTypes.intelligence]: '1'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\nexport default class WarriorPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.warrior,\n            name: AllClasses.warrior,\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '5',\n                [StatTypes.toughness]: '3',\n                [StatTypes.wisdom]: '1',\n                [StatTypes.dexterity]: '1',\n                [StatTypes.charisma]: '1',\n                [StatTypes.intelligence]: '1'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport StatMinimumsRequirement from \"../../unlockables/statMinimumsRequirement\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\n\nexport default class ArcherPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.archer,\n            name: AllClasses.archer,\n            unlockRequirements: [\n                new StatMinimumsRequirement({\n                    stats: new Stats({\n                        [StatTypes.strength]: '60',\n                        [StatTypes.toughness]: '10',\n                        [StatTypes.wisdom]: '10',\n                        [StatTypes.dexterity]: '80',\n                        [StatTypes.charisma]: '40',\n                        [StatTypes.intelligence]: '10'\n                    })\n                })\n            ],\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '5',\n                [StatTypes.toughness]: '2',\n                [StatTypes.wisdom]: '2',\n                [StatTypes.dexterity]: '10',\n                [StatTypes.charisma]: '3',\n                [StatTypes.intelligence]: '2'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport StatMinimumsRequirement from \"../../unlockables/statMinimumsRequirement\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\n\nexport default class ClericPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.cleric,\n            name: AllClasses.cleric,\n            unlockRequirements: [\n                new StatMinimumsRequirement({\n                    stats: new Stats({\n                        [StatTypes.strength]: '10',\n                        [StatTypes.toughness]: '10',\n                        [StatTypes.wisdom]: '80',\n                        [StatTypes.dexterity]: '40',\n                        [StatTypes.charisma]: '10',\n                        [StatTypes.intelligence]: '60'\n                    })\n                })\n            ],\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '2',\n                [StatTypes.toughness]: '2',\n                [StatTypes.wisdom]: '10',\n                [StatTypes.dexterity]: '2',\n                [StatTypes.charisma]: '3',\n                [StatTypes.intelligence]: '5'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport StatMinimumsRequirement from \"../../unlockables/statMinimumsRequirement\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\n\nexport default class DancerPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.dancer,\n            name: AllClasses.dancer,\n            unlockRequirements: [\n                new StatMinimumsRequirement({\n                    stats: new Stats({\n                        [StatTypes.strength]: '40',\n                        [StatTypes.toughness]: '10',\n                        [StatTypes.wisdom]: '10',\n                        [StatTypes.dexterity]: '60',\n                        [StatTypes.charisma]: '80',\n                        [StatTypes.intelligence]: '10'\n                    })\n                })\n            ],\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '3',\n                [StatTypes.toughness]: '2',\n                [StatTypes.wisdom]: '2',\n                [StatTypes.dexterity]: '5',\n                [StatTypes.charisma]: '10',\n                [StatTypes.intelligence]: '2'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport StatMinimumsRequirement from \"../../unlockables/statMinimumsRequirement\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\n\nexport default class FighterPlayerClass extends PlayerClass {\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.fighter,\n            name: AllClasses.fighter,\n            unlockRequirements: [\n                new StatMinimumsRequirement({\n                    stats: new Stats({\n                        [StatTypes.strength]: '80',\n                        [StatTypes.toughness]: '40',\n                        [StatTypes.wisdom]: '10',\n                        [StatTypes.dexterity]: '60',\n                        [StatTypes.charisma]: '10',\n                        [StatTypes.intelligence]: '10'\n                    })\n                })\n            ],\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '10',\n                [StatTypes.toughness]: '3',\n                [StatTypes.wisdom]: '2',\n                [StatTypes.dexterity]: '5',\n                [StatTypes.charisma]: '2',\n                [StatTypes.intelligence]: '2'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport ClassLevelRequirement from \"../../unlockables/classLevelRequirement\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\n\nexport default class MonkPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.monk,\n            name: AllClasses.monk,\n            unlockRequirements: [\n                new ClassLevelRequirement({\n                    classType: AllClasses.bard,\n                    requiredLevel: '40'\n                }),\n                new ClassLevelRequirement({\n                    classType: AllClasses.defender,\n                    requiredLevel: '40'\n                }),\n                new ClassLevelRequirement({\n                    classType: AllClasses.healer,\n                    requiredLevel: '40'\n                }),\n                new ClassLevelRequirement({\n                    classType: AllClasses.mage,\n                    requiredLevel: '40'\n                }),\n                new ClassLevelRequirement({\n                    classType: AllClasses.rogue,\n                    requiredLevel: '40'\n                }),\n                new ClassLevelRequirement({\n                    classType: AllClasses.warrior,\n                    requiredLevel: '40'\n                }),\n            ],\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '7',\n                [StatTypes.toughness]: '7',\n                [StatTypes.wisdom]: '7',\n                [StatTypes.dexterity]: '7',\n                [StatTypes.charisma]: '7',\n                [StatTypes.intelligence]: '7'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport StatMinimumsRequirement from \"../../unlockables/statMinimumsRequirement\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\n\nexport default class SoldierPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.soldier,\n            name: AllClasses.soldier,\n            unlockRequirements: [\n                new StatMinimumsRequirement({\n                    stats: new Stats({\n                        [StatTypes.strength]: '60',\n                        [StatTypes.toughness]: '80',\n                        [StatTypes.wisdom]: '10',\n                        [StatTypes.dexterity]: '40',\n                        [StatTypes.charisma]: '10',\n                        [StatTypes.intelligence]: '10'\n                    })\n                })\n            ],\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '5',\n                [StatTypes.toughness]: '10',\n                [StatTypes.wisdom]: '2',\n                [StatTypes.dexterity]: '3',\n                [StatTypes.charisma]: '2',\n                [StatTypes.intelligence]: '2'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport StatMinimumsRequirement from \"../../unlockables/statMinimumsRequirement\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\n\nexport default class WizardPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.wizard,\n            name: AllClasses.wizard,\n            unlockRequirements: [\n                new StatMinimumsRequirement({\n                    stats: new Stats({\n                        [StatTypes.strength]: '10',\n                        [StatTypes.toughness]: '10',\n                        [StatTypes.wisdom]: '60',\n                        [StatTypes.dexterity]: '10',\n                        [StatTypes.charisma]: '40',\n                        [StatTypes.intelligence]: '80'\n                    })\n                })\n            ],\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '2',\n                [StatTypes.toughness]: '2',\n                [StatTypes.wisdom]: '5',\n                [StatTypes.dexterity]: '2',\n                [StatTypes.charisma]: '3',\n                [StatTypes.intelligence]: '10'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport ClassLevelRequirement from \"../../unlockables/classLevelRequirement\";\nimport PlayerLevelRequirement from \"../../unlockables/playerLevelRequirement\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\n\nexport default class EnchanterPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.enchanter,\n            name: AllClasses.enchanter,\n            unlockRequirements: [\n                new ClassLevelRequirement({\n                    classType: AllClasses.dancer,\n                    requiredLevel: '80'\n                }),\n                new ClassLevelRequirement({\n                    classType: AllClasses.wizard,\n                    requiredLevel: '80'\n                }),\n                new PlayerLevelRequirement({\n                    requiredLevel: '350'\n                })\n            ],\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '2',\n                [StatTypes.toughness]: '2',\n                [StatTypes.wisdom]: '10',\n                [StatTypes.dexterity]: '8',\n                [StatTypes.charisma]: '12',\n                [StatTypes.intelligence]: '14'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import { AllBosses } from \"../../battle/bosses/allBosses\";\nimport Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport BossDefeatedRequirement from \"../../unlockables/bossDefeatedRequirement\";\nimport ClassLevelRequirement from \"../../unlockables/classLevelRequirement\";\nimport PrestigeCountRequirement from \"../../unlockables/prestigeCountRequirement\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\n\nexport default class NecromancerPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.necromancer,\n            name: AllClasses.necromancer,\n            unlockRequirements: [\n                new BossDefeatedRequirement({\n                    bossId: AllBosses.spectre,\n                    minCount: 1\n                }),\n                new PrestigeCountRequirement({\n                    minCount: 30\n                }),\n                new ClassLevelRequirement({\n                    classType: AllClasses.cleric,\n                    requiredLevel: '100'\n                }),\n                new ClassLevelRequirement({\n                    classType: AllClasses.bard,\n                    requiredLevel: '100'\n                }),\n                new ClassLevelRequirement({\n                    classType: AllClasses.wizard,\n                    requiredLevel: '100'\n                }),\n                new ClassLevelRequirement({\n                    classType: AllClasses.healer,\n                    requiredLevel: '100'\n                }),\n            ],\n            // 96\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '4',\n                [StatTypes.toughness]: '6',\n                [StatTypes.wisdom]: '32',\n                [StatTypes.dexterity]: '6',\n                [StatTypes.charisma]: '21',\n                [StatTypes.intelligence]: '27'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport ClassLevelRequirement from \"../../unlockables/classLevelRequirement\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\n\nexport default class ShieldPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.shield,\n            name: AllClasses.shield,\n            unlockRequirements: [\n                new ClassLevelRequirement({\n                    classType: AllClasses.defender,\n                    requiredLevel: '80'\n                }),\n                new ClassLevelRequirement({\n                    classType: AllClasses.soldier,\n                    requiredLevel: '80'\n                }),\n            ],\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '3',\n                [StatTypes.toughness]: '33',\n                [StatTypes.wisdom]: '3',\n                [StatTypes.dexterity]: '3',\n                [StatTypes.charisma]: '3',\n                [StatTypes.intelligence]: '3'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import { AllBosses } from \"../../battle/bosses/allBosses\";\nimport Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport BossDefeatedRequirement from \"../../unlockables/bossDefeatedRequirement\";\nimport PlayerLevelRequirement from \"../../unlockables/playerLevelRequirement\";\nimport { AllClasses } from \"../allClasses\";\nimport PlayerClass, { PlayerClassImplementationData } from \"../class\";\n\nexport default class SlayerPlayerClass extends PlayerClass {\n\n    constructor(data: PlayerClassImplementationData) {\n        const updatedData = {\n            ...data,\n            id: AllClasses.slayer,\n            name: AllClasses.slayer,\n            unlockRequirements: [\n                new BossDefeatedRequirement({\n                    bossId: AllBosses.brute,\n                    minCount: 15\n                }),\n                new PlayerLevelRequirement({\n                    requiredLevel: '250'\n                })\n            ],\n            levelUpStats: new Stats({\n                [StatTypes.strength]: '16',\n                [StatTypes.toughness]: '4',\n                [StatTypes.wisdom]: '4',\n                [StatTypes.dexterity]: '16',\n                [StatTypes.charisma]: '4',\n                [StatTypes.intelligence]: '4'\n            })\n        }\n\n        super(updatedData);\n    }\n}","import { AllClasses } from \"./allClasses\";\nimport BardPlayerClass from \"./baseClasses/bardPlayerClass\";\nimport DefenderPlayerClass from \"./baseClasses/defenderPlayerClass\";\nimport HealerPlayerClass from \"./baseClasses/healerPlayerClass\";\nimport MagePlayerClass from \"./baseClasses/magePlayerClass\";\nimport RoguePlayerClass from \"./baseClasses/roguePlayerClass\";\nimport WarriorPlayerClass from \"./baseClasses/warriorPlayerClass\";\nimport ArcherPlayerClass from \"./tierOneClasses/archerPlayerClass\";\nimport ClericPlayerClass from \"./tierOneClasses/clericPlayerClass\";\nimport DancerPlayerClass from \"./tierOneClasses/dancerPlayerClass\";\nimport FighterPlayerClass from \"./tierOneClasses/fighterPlayerClass\";\nimport MonkPlayerClass from \"./tierOneClasses/monkPlayerClass\";\nimport SoldierPlayerClass from \"./tierOneClasses/soldierPlayerClass\";\nimport WizardPlayerClass from \"./tierOneClasses/wizardPlayerClass\";\nimport EnchanterPlayerClass from \"./tierTwoClasses/enchanterPlayerClass\";\nimport NecromancerPlayerClass from \"./tierTwoClasses/necromancerPlayerClass\";\nimport ShieldPlayerClass from \"./tierTwoClasses/shieldPlayerClass\";\nimport SlayerPlayerClass from \"./tierTwoClasses/slayerPlayerClass\";\n\nconst allClassesInitialized = {\n    [AllClasses.archer]: new ArcherPlayerClass({ experience: '0' }),\n    [AllClasses.bard]: new BardPlayerClass({ experience: '0' }),\n    [AllClasses.defender]: new DefenderPlayerClass({ experience: '0' }),\n    [AllClasses.healer]: new HealerPlayerClass({ experience: '0' }),\n    [AllClasses.mage]: new MagePlayerClass({ experience: '0' }),\n    [AllClasses.rogue]: new RoguePlayerClass({ experience: '0' }),\n    [AllClasses.warrior]: new WarriorPlayerClass({ experience: '0' }),\n    [AllClasses.cleric]: new ClericPlayerClass({ experience: '0' }),\n    [AllClasses.dancer]: new DancerPlayerClass({ experience: '0' }),\n    [AllClasses.fighter]: new FighterPlayerClass({ experience: '0' }),\n    [AllClasses.monk]: new MonkPlayerClass({ experience: '0' }),\n    [AllClasses.soldier]: new SoldierPlayerClass({ experience: '0' }),\n    [AllClasses.wizard]: new WizardPlayerClass({ experience: '0' }),\n    [AllClasses.slayer]: new SlayerPlayerClass({ experience: '0' }),\n    [AllClasses.necromancer]: new NecromancerPlayerClass({ experience: '0' }),\n    [AllClasses.enchanter]: new EnchanterPlayerClass({ experience: '0' }),\n    [AllClasses.shield]: new ShieldPlayerClass({ experience: '0' }),\n}\n\nexport default allClassesInitialized;","import Decimal from \"decimal.js\";\nimport { AllClasses } from \"../classes/allClasses\";\nimport allClassesInitialized from \"../classes/allClassesInitialized\";\nimport GameState from \"../gameState\";\nimport { AllModifiers } from \"../modifiers/allModifiers\";\nimport Stats from \"../stats/stats\";\n\nconst EXP_LEVEL_EXPONENT = new Decimal('2');\nconst BASE_EXP = new Decimal(2);\n\n\nexport interface ClassModifierData {\n    classId: AllClasses;\n    level?: Decimal | string,\n    experience?: Decimal | string,\n    statMultiplier?: number\n}\n\nexport default class ClassModifier {\n    classId: AllClasses\n    level: Decimal\n    experience: Decimal\n    statMultiplier: number\n\n    constructor(data: ClassModifierData) {\n        this.classId = data.classId;\n        this.level = data.level ? new Decimal(data.level) : new Decimal(0);\n        this.experience = data.experience ? new Decimal(data.experience) : new Decimal(0);\n        this.statMultiplier = data.statMultiplier ? data.statMultiplier : 1;\n    }\n\n    getName() {\n        return allClassesInitialized[this.classId].name;\n    }\n\n    getModifiedStats(gameState: GameState) {\n        const baseStats = allClassesInitialized[this.classId].levelUpStats.multiplyAllStats(this.statMultiplier);\n        return gameState.modifierManager.modifyStats(baseStats, AllModifiers.statGain);\n    }\n\n    getExperienceRequiredToLevel() {\n        return BASE_EXP.times(this.level.plus(1).pow(EXP_LEVEL_EXPONENT));\n    }\n\n    getNumberOfLevelsToGrow() {\n        const levelToGrowTo = this.experience.div(BASE_EXP).pow(new Decimal(1).div(EXP_LEVEL_EXPONENT)).floor();\n        return levelToGrowTo.minus(this.level);\n    }\n\n    addExperience(experience: Decimal) {\n        this.experience = this.experience.plus(experience);\n    }\n\n    levelUp(playerStats: Stats, gameState: GameState, numberOfLevelUps = new Decimal(1)) {\n        playerStats.addStats(this.getModifiedStats(gameState).multiplyAllStatsValue(numberOfLevelUps));\n        this.level = this.level.plus(numberOfLevelUps);\n    }\n\n    checkForLevelUp(playerStats: Stats, gameState: GameState) {\n        const numberOfLevelsToGrow = this.getNumberOfLevelsToGrow();\n        if (numberOfLevelsToGrow.greaterThanOrEqualTo(1)) {\n            this.levelUp(playerStats, gameState, numberOfLevelsToGrow);\n        }\n\n    }\n}","export enum AllPrestigeSkills {\n    \"improvedConsolidating\" = \"improvedConsolidating\",\n    \"improvedLearning\" = \"improvedLearning\",\n    \"improvedTraining\" = \"improvedTraining\",\n    \"monkMastery\" = \"monkMastery\",\n}","import Decimal from \"decimal.js\";\nimport ZoneModifier from \"../player/zoneModifier\";\nimport Stats, { StatsData } from \"../stats/stats\";\nimport { StatTypes } from \"../stats/statsEnum\";\nimport loadUnlockRequirements from \"../unlockables/loadUnlockRequirements\";\nimport StatMinimumsRequirement from \"../unlockables/statMinimumsRequirement\";\nimport UnlockRequirement, { UnlockRequirementData } from \"../unlockables/unlockRequirement\";\nimport { AllZones } from \"./allZones\";\n\nexport type ZoneKeyStats = Array<StatTypes>;\n\nexport interface ZoneData {\n    id: AllZones;\n    name: string;\n    unlockRequirements?: Array<UnlockRequirement | UnlockRequirementData>;\n    requiredStats: Stats | StatsData;\n    zoneKeyStats: ZoneKeyStats;\n    minExp: Decimal | string;\n    maxExp: Decimal | string;\n    statIncrementalMultiplier: Decimal | string;\n    rate: number;\n}\n\nexport default class Zone {\n    id: AllZones;\n    name: string;\n    unlockRequirements: Array<UnlockRequirement>;\n    requiredStats: Stats;\n    zoneKeyStats: ZoneKeyStats;\n    minExp: Decimal;\n    maxExp: Decimal;\n    statIncrementalMultiplier: Decimal;\n    rate: number;\n\n    constructor(data: ZoneData) {\n        this.id = data.id;\n        this.name = data.name;\n        this.requiredStats = new Stats(data.requiredStats);\n        if (!data.unlockRequirements) {\n            this.unlockRequirements = [new StatMinimumsRequirement({ stats: this.requiredStats })];\n        } else {\n            this.unlockRequirements = loadUnlockRequirements(data.unlockRequirements);\n        }\n        this.minExp = new Decimal(data.minExp);\n        this.maxExp = new Decimal(data.maxExp);\n        this.statIncrementalMultiplier = new Decimal(data.statIncrementalMultiplier);\n        this.zoneKeyStats = data.zoneKeyStats;\n        this.rate = data.rate;\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllZones } from \"../allZones\";\nimport Zone from \"../zone\";\nexport default class StrawberryValleyFieldsZone extends Zone {\n\n    constructor() {\n        const updatedData = {\n            id: AllZones.strawberryValleyFields,\n            name: AllZones.strawberryValleyFields,\n            requiredStats: new Stats({\n                [StatTypes.strength]: '5',\n                [StatTypes.toughness]: '5',\n                [StatTypes.dexterity]: '5',\n                [StatTypes.intelligence]: '5',\n                [StatTypes.wisdom]: '5',\n                [StatTypes.charisma]: '5',\n            }),\n            zoneKeyStats: [],\n            minExp: '1',\n            maxExp: '5',\n            statIncrementalMultiplier: '2',\n            rate: 5\n        }\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllZones } from \"../allZones\";\nimport Zone from \"../zone\";\n\nexport default class BerryRidgeRangeZone extends Zone {\n\n    constructor() {\n        const updatedData = {\n            id: AllZones.berryRidgeRange,\n            name: AllZones.berryRidgeRange,\n            requiredStats: new Stats({\n                [StatTypes.strength]: '250',\n                [StatTypes.toughness]: '250',\n                [StatTypes.dexterity]: '250',\n                [StatTypes.intelligence]: '250',\n                [StatTypes.wisdom]: '250',\n                [StatTypes.charisma]: '250',\n            }),\n            zoneKeyStats: [],\n            minExp: '25',\n            maxExp: '250',\n            statIncrementalMultiplier: '2',\n            rate: 5\n        }\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllZones } from \"../allZones\";\nimport Zone from \"../zone\";\n\nexport default class OldStoneFarmZone extends Zone {\n\n    constructor() {\n        const updatedData = {\n            id: AllZones.oldStoneFarm,\n            name: AllZones.oldStoneFarm,\n            requiredStats: new Stats({\n                [StatTypes.strength]: '40',\n                [StatTypes.toughness]: '60',\n                [StatTypes.dexterity]: '10',\n                [StatTypes.intelligence]: '10',\n                [StatTypes.wisdom]: '10',\n                [StatTypes.charisma]: '30',\n            }),\n            zoneKeyStats: [StatTypes.toughness, StatTypes.strength, StatTypes.charisma],\n            minExp: '10',\n            maxExp: '80',\n            statIncrementalMultiplier: '2',\n            rate: 4\n        }\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllZones } from \"../allZones\";\nimport Zone from \"../zone\";\n\nexport default class QuietSandsZone extends Zone {\n\n    constructor() {\n        const updatedData = {\n            id: AllZones.quietSands,\n            name: AllZones.quietSands,\n            requiredStats: new Stats({\n                [StatTypes.strength]: '10',\n                [StatTypes.toughness]: '50',\n                [StatTypes.dexterity]: '10',\n                [StatTypes.intelligence]: '10',\n                [StatTypes.wisdom]: '35',\n                [StatTypes.charisma]: '10',\n            }),\n            zoneKeyStats: [StatTypes.toughness, StatTypes.wisdom],\n            minExp: '12',\n            maxExp: '48',\n            statIncrementalMultiplier: '2',\n            rate: 3\n        }\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllZones } from \"../allZones\";\nimport Zone from \"../zone\";\n\nexport default class SmallPawsAcresZone extends Zone {\n\n    constructor() {\n        const updatedData = {\n            id: AllZones.smallPawsAcres,\n            name: AllZones.smallPawsAcres,\n            requiredStats: new Stats({\n                [StatTypes.strength]: '25',\n                [StatTypes.toughness]: '25',\n                [StatTypes.dexterity]: '25',\n                [StatTypes.intelligence]: '25',\n                [StatTypes.wisdom]: '25',\n                [StatTypes.charisma]: '25',\n            }),\n            zoneKeyStats: [],\n            minExp: '5',\n            maxExp: '120',\n            statIncrementalMultiplier: '3',\n            rate: 4\n        }\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllZones } from \"../allZones\";\nimport Zone from \"../zone\";\n\nexport default class MoonshadowOrchardZone extends Zone {\n\n    constructor() {\n        const updatedData = {\n            id: AllZones.moonshadowOrchard,\n            name: AllZones.moonshadowOrchard,\n            requiredStats: new Stats({\n                [StatTypes.strength]: '4000',\n                [StatTypes.toughness]: '4000',\n                [StatTypes.dexterity]: '8000',\n                [StatTypes.intelligence]: '4000',\n                [StatTypes.wisdom]: '8000',\n                [StatTypes.charisma]: '4000',\n            }),\n            zoneKeyStats: [StatTypes.dexterity, StatTypes.wisdom],\n            minExp: '300',\n            maxExp: '1200',\n            statIncrementalMultiplier: '1.5',\n            rate: 3.5\n        }\n        super(updatedData);\n    }\n}","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\nimport { AllZones } from \"../allZones\";\nimport Zone from \"../zone\";\n\nexport default class WestwoodGardensZone extends Zone {\n\n    constructor() {\n        const updatedData = {\n            id: AllZones.westwoodGardens,\n            name: AllZones.westwoodGardens,\n            requiredStats: new Stats({\n                [StatTypes.strength]: '3000',\n                [StatTypes.toughness]: '3000',\n                [StatTypes.dexterity]: '3000',\n                [StatTypes.intelligence]: '3000',\n                [StatTypes.wisdom]: '3000',\n                [StatTypes.charisma]: '6000',\n            }),\n            zoneKeyStats: [StatTypes.charisma],\n            minExp: '100',\n            maxExp: '500',\n            statIncrementalMultiplier: '1',\n            rate: 4\n        }\n        super(updatedData);\n    }\n}","import { AllZones } from \"./allZones\";\nimport StrawberryValleyFieldsZone from \"./baseZones/strawberryValleyFieldsZone\";\nimport BerryRidgeRangeZone from \"./tierOneZones/berryRidgeRangeZone\";\nimport OldStoneFarmZone from \"./tierOneZones/oldStoneFarmZone\";\nimport QuietSandsZone from \"./tierOneZones/quietSandsZone\";\nimport SmallPawsAcresZone from \"./tierOneZones/smallPawsAcresZone\";\nimport MoonshadowOrchardZone from \"./tierTwoZones/moonshadowOrchardZone\";\nimport WestwoodGardensZone from \"./tierTwoZones/westwoodGardensZone\";\n\nconst allZonesInitialized = {\n    [AllZones.strawberryValleyFields]: new StrawberryValleyFieldsZone(),\n    [AllZones.berryRidgeRange]: new BerryRidgeRangeZone(),\n    [AllZones.oldStoneFarm]: new OldStoneFarmZone(),\n    [AllZones.quietSands]: new QuietSandsZone(),\n    [AllZones.smallPawsAcres]: new SmallPawsAcresZone(),\n    [AllZones.westwoodGardens]: new WestwoodGardensZone(),\n    [AllZones.moonshadowOrchard]: new MoonshadowOrchardZone(),\n}\n\nexport default allZonesInitialized;","import Decimal from \"decimal.js\";\nimport Stats from \"../stats/stats\";\nimport { StatTypes } from \"../stats/statsEnum\";\nimport { AllZones } from \"../zones/allZones\";\nimport allZonesInitialized from \"../zones/allZonesInitialized\";\n\nexport interface ZoneModifierData {\n    zoneId: AllZones;\n    removeRequirements?: boolean;\n    minExp?: Decimal | string;\n    maxExp?: Decimal | string;\n    statIncrementalMultiplier?: Decimal | string;\n    rate?: number;\n}\n\nexport default class ZoneModifier {\n    zoneId: AllZones;\n    removeRequirements: boolean;\n    minExp: Decimal;\n    maxExp: Decimal;\n    statIncrementalMultiplier: Decimal;\n    rate: number;\n\n    constructor(data: ZoneModifierData) {\n        this.zoneId = data.zoneId;\n        this.removeRequirements = !!data.removeRequirements;\n        this.minExp = data.minExp ? new Decimal(data.minExp) : new Decimal(1);\n        this.maxExp = data.maxExp ? new Decimal(data.maxExp) : new Decimal(1);\n        this.statIncrementalMultiplier = data.statIncrementalMultiplier ? new Decimal(data.statIncrementalMultiplier) : new Decimal(1);\n        this.rate = data.rate ? data.rate : 1;\n    }\n\n    getName() {\n        return allZonesInitialized[this.zoneId].name;\n    }\n\n    getRate() {\n        return allZonesInitialized[this.zoneId].rate * this.rate;\n    }\n\n    getModifiedMinExp() {\n        return allZonesInitialized[this.zoneId].minExp.times(this.minExp)\n    }\n\n    getModifiedMaxExp() {\n        return allZonesInitialized[this.zoneId].maxExp.times(this.maxExp);\n    }\n\n    getStats() {\n        return allZonesInitialized[this.zoneId].requiredStats;\n    }\n\n    getExperienceReward(playerStats: Stats): Decimal {\n        const originalZone = allZonesInitialized[this.zoneId];\n        const modifiedMinExp = this.getModifiedMinExp();\n        const modifiedMaxExp = this.getModifiedMaxExp();\n        const modifiedStatMultiplier = originalZone.statIncrementalMultiplier.times(this.statIncrementalMultiplier);\n\n        if (originalZone.zoneKeyStats.length > 0) {\n            let keyStat: StatTypes;\n            let expMultiplier = new Decimal(1);\n            const maxMultiplierPerStat = modifiedMaxExp.div(modifiedMinExp).div(originalZone.zoneKeyStats.length);\n            for (keyStat of originalZone.zoneKeyStats) {\n                const playerStat = playerStats.get(keyStat);\n                const requiredStat = originalZone.requiredStats.get(keyStat).times(modifiedStatMultiplier);\n                const singleStatMultiplier = Decimal.min(playerStat.dividedBy(requiredStat).minus(1), maxMultiplierPerStat);\n                expMultiplier = expMultiplier.plus(singleStatMultiplier);\n            }\n            return Decimal.min(modifiedMaxExp, Decimal.max(modifiedMinExp.times(expMultiplier), modifiedMinExp));\n        } else {\n            let keyStat: StatTypes;\n            let expMultiplier = new Decimal(1);\n            const maxMultiplierPerStat = modifiedMaxExp.div(modifiedMinExp).div(Object.keys(StatTypes).length);\n            for (keyStat of Object.values(StatTypes)) {\n                const playerStat = playerStats.get(keyStat);\n                const requiredStat = originalZone.requiredStats.get(keyStat).times(modifiedStatMultiplier);\n                const singleStatMultiplier = Decimal.min(playerStat.dividedBy(requiredStat).minus(1), maxMultiplierPerStat);\n                expMultiplier = expMultiplier.plus(singleStatMultiplier);\n            }\n            return Decimal.min(modifiedMaxExp, Decimal.max(modifiedMinExp.times(expMultiplier), modifiedMinExp));\n        }\n    }\n}","import Decimal from \"decimal.js\";\nimport { AllBosses } from \"../battle/bosses/allBosses\";\nimport { AllClasses } from \"../classes/allClasses\";\nimport GameState from \"../gameState\";\nimport { AllModifiers } from \"../modifiers/allModifiers\";\nimport Stats, { StatsData } from \"../stats/stats\";\nimport { AllZones } from \"../zones/allZones\";\nimport ClassModifier, { ClassModifierData } from \"./classModifier\";\nimport ZoneModifier, { ZoneModifierData } from \"./zoneModifier\";\n\nexport type ActiveClasses = Array<AllClasses>;\n\nexport type UnlockedClasses = Array<AllClasses>\n\nexport type DiscoveredZones = Array<AllZones>\n\nexport type ClassModifiers = {\n    [key in AllClasses]?: ClassModifier\n}\n\nexport type ClassModifiersData = {\n    [key in AllClasses]?: ClassModifier | ClassModifierData\n}\n\nexport type ZoneModifiers = {\n    [key in AllZones]?: ZoneModifier\n}\n\nexport type ZoneModifiersData = {\n    [key in AllZones]?: ZoneModifier | ZoneModifierData\n}\n\nexport interface PlayerData {\n    activeClassLimit: number;\n    activeClasses: ActiveClasses;\n    unlockedClasses: UnlockedClasses;\n    classModifiers?: ClassModifiers | ClassModifiersData;\n    activeZone?: AllZones;\n    discoveredZones: DiscoveredZones;\n    zoneModifiers?: ZoneModifiers | ZoneModifiersData;\n    stats: Stats | StatsData;\n    lastBossDefeated?: AllBosses\n}\n\nexport default class Player {\n    activeClassLimit: number;\n    activeClasses: ActiveClasses;\n    unlockedClasses: UnlockedClasses;\n    classModifiers: ClassModifiers;\n    activeZone: AllZones | undefined;\n    discoveredZones: DiscoveredZones;\n    zoneModifiers: ZoneModifiers;\n    stats: Stats;\n    lastBossDefeated: AllBosses | undefined;\n\n    constructor(data: PlayerData) {\n        this.activeClassLimit = data.activeClassLimit;\n        this.activeClasses = [...data.activeClasses];\n        this.unlockedClasses = [...data.unlockedClasses];\n        this.classModifiers = this.loadClassModifiers(data.classModifiers);\n        this.activeZone = data.activeZone;\n        this.discoveredZones = [...data.discoveredZones];\n        this.zoneModifiers = this.loadZoneModifiers(data.zoneModifiers);\n        this.stats = new Stats(data.stats);\n        this.lastBossDefeated = data.lastBossDefeated;\n    }\n\n    getZoneModifier(zoneId: AllZones) {\n        let zoneModifier = this.zoneModifiers[zoneId];\n        if (!zoneModifier) {\n            zoneModifier = new ZoneModifier({ zoneId: zoneId });\n        }\n\n        return zoneModifier;\n    }\n\n    getClassModifier(classId: AllClasses) {\n        let classModifier = this.classModifiers[classId];\n        if (!classModifier) {\n            classModifier = new ClassModifier({ classId });\n            this.classModifiers[classId] = classModifier;\n        }\n\n        return classModifier;\n    }\n\n    setStats(stats: Stats) {\n        this.stats = stats;\n    }\n\n    unlockZone(zoneId: AllZones) {\n        if (this.discoveredZones.indexOf(zoneId) < 0) {\n            this.discoveredZones.push(zoneId);\n        }\n    }\n\n    unlockClass(playerClassId: AllClasses) {\n        if (this.unlockedClasses.indexOf(playerClassId) < 0) {\n            this.unlockedClasses.push(playerClassId);\n        }\n    }\n\n    getActiveZone() {\n        if (this.activeZone) {\n            if (this.discoveredZones.indexOf(this.activeZone) >= 0) {\n                return this.getZoneModifier(this.activeZone);\n            }\n        }\n\n        return undefined;\n    }\n\n    makeClassActive(playerClassId: AllClasses) {\n        if (this.activeClassLimit > this.activeClasses.length) {\n            this.activeClasses.push(playerClassId);\n        } else {\n            this.activeClasses.shift();\n            this.activeClasses.push(playerClassId);\n        }\n    }\n\n    addExperienceToActiveClasses(gameState: GameState) {\n        if (this.activeZone) {\n            const zoneModifier = this.getZoneModifier(this.activeZone);\n            const expReward = zoneModifier.getExperienceReward(this.stats);\n            const modifiedExpReward = gameState.modifierManager.modifyDecimal(expReward, AllModifiers.experienceGain);\n            this.activeClasses.forEach(playerClassId => {\n                const classModifier = this.getClassModifier(playerClassId);\n                classModifier.addExperience(modifiedExpReward);\n                classModifier.checkForLevelUp(this.stats, gameState);\n            });\n        }\n    }\n\n    makeZoneActive(zoneId: AllZones) {\n        this.activeZone = zoneId;\n        return zoneId;\n    }\n\n    getTotalLevel(): Decimal {\n        let output = new Decimal(0);\n        let key: keyof typeof AllClasses;\n        for (key in this.classModifiers) {\n            const classModifier = this.classModifiers[key];\n            if (classModifier) {\n                output = output.plus(classModifier.level);\n            }\n        }\n\n        return output;\n    }\n\n    loadClassModifiers(classModifiersData?: ClassModifiersData): ClassModifiers {\n        const output: ClassModifiers = {};\n\n        if (classModifiersData) {\n            let key: keyof typeof AllClasses;\n            for (key in classModifiersData) {\n                const classModifierData = classModifiersData[key];\n                if (classModifierData) {\n                    output[key] = new ClassModifier(classModifierData);\n                }\n            }\n        }\n\n        return output;\n    }\n\n    loadZoneModifiers(zoneModifiersData?: ZoneModifiersData): ZoneModifiers {\n        const output: ZoneModifiers = {};\n\n        if (zoneModifiersData) {\n            let key: keyof typeof AllZones;\n            for (key in zoneModifiersData) {\n                const zoneModifier = zoneModifiersData[key];\n                if (zoneModifier) {\n                    output[key] = new ZoneModifier(zoneModifier);\n                }\n            }\n        }\n\n        return output;\n    }\n}","import { AllZones } from \"../../zones/allZones\";\n\nconst initialDiscoveredZones = [\n    AllZones.strawberryValleyFields\n]\n\nexport default initialDiscoveredZones;","import Stats from \"../../stats/stats\";\nimport { StatTypes } from \"../../stats/statsEnum\";\n\nconst initialPlayerStats = new Stats({\n    [StatTypes.strength]: '5',\n    [StatTypes.toughness]: '5',\n    [StatTypes.dexterity]: '5',\n    [StatTypes.intelligence]: '5',\n    [StatTypes.wisdom]: '5',\n    [StatTypes.charisma]: '5',\n});\n\nexport default initialPlayerStats;","import { AllClasses } from \"../../classes/allClasses\";\n\nconst initialUnlockedClasses = [\n    AllClasses.warrior,\n    AllClasses.mage,\n    AllClasses.defender,\n    AllClasses.healer,\n    AllClasses.bard,\n    AllClasses.rogue\n]\n\nexport default initialUnlockedClasses;","import Player from \"../../player/player\";\nimport Stats from \"../../stats/stats\";\nimport initialDiscoveredZones from \"./initialDiscoveredZones\";\nimport initialPlayerStats from \"./initialPlayerStats\";\nimport initialUnlockedClasses from \"./initialUnlockedClasses\";\n\nconst initialPlayer = new Player({\n    activeClassLimit: 1,\n    activeClasses: [],\n    unlockedClasses: [\n        ...initialUnlockedClasses\n    ],\n    discoveredZones: [\n        ...initialDiscoveredZones\n    ],\n    stats: new Stats(initialPlayerStats),\n});\n\nexport default initialPlayer;","import { AllBosses } from \"../battle/bosses/allBosses\";\nimport GameState from \"../gameState\";\nimport BossDefeatedRequirement from \"../unlockables/bossDefeatedRequirement\";\nimport loadUnlockRequirements from \"../unlockables/loadUnlockRequirements\";\nimport UnlockRequirement, { UnlockRequirementData } from \"../unlockables/unlockRequirement\";\nimport { AllPrestigeSkills } from \"./allPrestigeSkills\";\n\nexport interface PrestigeSkillData {\n    id: AllPrestigeSkills\n    name: string\n    maxLevel: number\n    currentLevel?: number\n    cost?: number\n    unlockRequirements?: Array<UnlockRequirement | UnlockRequirementData>\n}\n\nexport interface InheritedPrestigeSkillData {\n    currentLevel?: number\n}\n\nexport default abstract class PrestigeSkill {\n    id: AllPrestigeSkills\n    name: string\n    maxLevel: number\n    currentLevel: number\n    cost: number\n    unlockRequirements: Array<UnlockRequirement>\n\n    constructor(data: PrestigeSkillData) {\n        this.id = data.id;\n        this.name = data.name;\n        this.maxLevel = data.maxLevel;\n        this.currentLevel = data.currentLevel ? data.currentLevel : 0;\n        this.cost = data.cost ? data.cost : 1;\n        this.unlockRequirements = data.unlockRequirements ? loadUnlockRequirements(data.unlockRequirements) : [\n            new BossDefeatedRequirement({\n                bossId: AllBosses.brute,\n                minCount: 1\n            })\n        ]\n    }\n\n    increaseLevel(gameState: GameState, numberOfPoints = 1) {\n        if (this.currentLevel + numberOfPoints <= this.maxLevel) {\n            const totalPointCost = this.cost * numberOfPoints;\n            if (gameState.prestige.spendPoints(totalPointCost)) {\n                this.currentLevel = this.currentLevel + numberOfPoints;\n                this.applySkill(gameState);\n            }\n        }\n    }\n\n    abstract applySkill(gameState: GameState): void\n}","import Decimal from \"decimal.js\";\nimport GameState from \"../../gameState\";\nimport { AllModifiers } from \"../../modifiers/allModifiers\";\nimport Modifier from \"../../modifiers/modifier\";\nimport { AllPrestigeSkills } from \"../allPrestigeSkills\";\nimport PrestigeSkill, { InheritedPrestigeSkillData } from \"../prestigeSkill\";\n\nexport default class ImprovedLearningPrestigeSkill extends PrestigeSkill {\n    constructor(data: InheritedPrestigeSkillData) {\n        super({\n            id: AllPrestigeSkills.improvedLearning,\n            name: AllPrestigeSkills.improvedLearning,\n            maxLevel: 10,\n            currentLevel: data.currentLevel\n        });\n    }\n\n    applySkill(gameState: GameState) {\n        gameState.modifierManager.addTemporaryModifier(\n            new Modifier({\n                id: AllPrestigeSkills.improvedLearning,\n                group: AllModifiers.experienceGain,\n                multiplicativeValue: new Decimal(1 + (this.currentLevel * .1))\n            })\n        )\n    }\n}","import Decimal from \"decimal.js\";\nimport GameState from \"../../gameState\";\nimport { AllModifiers } from \"../../modifiers/allModifiers\";\nimport Modifier from \"../../modifiers/modifier\";\nimport { AllPrestigeSkills } from \"../allPrestigeSkills\";\nimport PrestigeSkill, { InheritedPrestigeSkillData } from \"../prestigeSkill\";\n\nexport default class ImprovedTrainingPrestigeSkill extends PrestigeSkill {\n    constructor(data: InheritedPrestigeSkillData) {\n        super({\n            id: AllPrestigeSkills.improvedTraining,\n            name: AllPrestigeSkills.improvedTraining,\n            maxLevel: 10,\n            currentLevel: data.currentLevel\n        });\n    }\n\n    applySkill(gameState: GameState) {\n        gameState.modifierManager.addTemporaryModifier(\n            new Modifier({\n                id: AllPrestigeSkills.improvedTraining,\n                group: AllModifiers.statGain,\n                multiplicativeValue: new Decimal(1 + (this.currentLevel * .1))\n            })\n        )\n    }\n}","import Decimal from \"decimal.js\";\nimport GameState from \"../../gameState\";\nimport { AllModifiers } from \"../../modifiers/allModifiers\";\nimport Modifier from \"../../modifiers/modifier\";\nimport { AllPrestigeSkills } from \"../allPrestigeSkills\";\nimport PrestigeSkill, { InheritedPrestigeSkillData } from \"../prestigeSkill\";\n\nexport default class ImprovedConsolidatingPrestigeSkill extends PrestigeSkill {\n    constructor(data: InheritedPrestigeSkillData) {\n        super({\n            id: AllPrestigeSkills.improvedConsolidating,\n            name: AllPrestigeSkills.improvedConsolidating,\n            maxLevel: 1,\n            currentLevel: data.currentLevel\n        });\n    }\n\n    applySkill(gameState: GameState) {\n        gameState.modifierManager.addTemporaryModifier(\n            new Modifier({\n                id: AllPrestigeSkills.improvedConsolidating,\n                group: AllModifiers.prestigeStatsGain,\n                additiveValue: new Decimal(.18 * this.currentLevel)\n            })\n        )\n    }\n}","import { AllClasses } from \"../../classes/allClasses\";\nimport GameState from \"../../gameState\";\nimport ClassLevelRequirement from \"../../unlockables/classLevelRequirement\";\nimport { AllPrestigeSkills } from \"../allPrestigeSkills\";\nimport PrestigeSkill, { InheritedPrestigeSkillData } from \"../prestigeSkill\";\n\nexport default class MonkMasteryPrestigeSkill extends PrestigeSkill {\n    constructor(data: InheritedPrestigeSkillData) {\n        super({\n            id: AllPrestigeSkills.monkMastery,\n            name: AllPrestigeSkills.monkMastery,\n            maxLevel: 1,\n            cost: 10,\n            currentLevel: data.currentLevel,\n            unlockRequirements: [\n                new ClassLevelRequirement({\n                    classType: AllClasses.monk,\n                    requiredLevel: '250'\n                })\n            ]\n        });\n    }\n\n    applySkill(gameState: GameState) {\n        gameState.player.unlockClass(AllClasses.monk);\n    }\n}","import { AllPrestigeSkills } from \"../allPrestigeSkills\";\nimport ImprovedLearningPrestigeSkill from \"./improvedLearning\";\nimport ImprovedTrainingPrestigeSkill from \"./improvedTraining\";\nimport PrestigeSkill, { PrestigeSkillData } from \"../prestigeSkill\";\nimport ImprovedConsolidatingPrestigeSkill from \"./improvedConsolidating\";\nimport MonkMasteryPrestigeSkill from \"./monkMastery\";\n\nconst createPrestigeSkill = (prestigeSkill: PrestigeSkill | PrestigeSkillData) => {\n    switch (prestigeSkill.id) {\n        case AllPrestigeSkills.improvedConsolidating:\n            return new ImprovedConsolidatingPrestigeSkill(prestigeSkill);\n        case AllPrestigeSkills.improvedLearning:\n            return new ImprovedLearningPrestigeSkill(prestigeSkill);\n        case AllPrestigeSkills.improvedTraining:\n            return new ImprovedTrainingPrestigeSkill(prestigeSkill);\n        case AllPrestigeSkills.monkMastery:\n            return new MonkMasteryPrestigeSkill(prestigeSkill);\n        default:\n            throw new Error(prestigeSkill.id + ' is not being handled in creator');\n    }\n}\n\nexport default createPrestigeSkill;","import Decimal from 'decimal.js';\nimport GameState from '../gameState';\nimport { AllModifiers } from '../modifiers/allModifiers';\nimport Player, { PlayerData } from '../player/player';\nimport initialPlayer from '../storage/state/initialPlayer';\nimport { AllPrestigeSkills } from './allPrestigeSkills';\nimport PrestigeSkill, { PrestigeSkillData } from './prestigeSkill';\nimport createPrestigeSkill from './prestigeSkills/prestigeSkillCreator';\n\nconst MINIMUM_LEVEL_REQUIRED_TO_PRESTIGE = 300;\nconst STAT_MULTIPLIER_ON_PRESTIGE = .02;\n\nexport interface PrestigeData {\n    count?: number\n    points?: Decimal | string\n    pointsToGainOnNextPrestige?: Decimal | string\n    prestigeSkills?: Array<PrestigeSkill | PrestigeSkillData>\n    basePlayer?: Player | PlayerData\n}\n\nexport default class Prestige {\n    count: number;\n    points: Decimal;\n    pointsToGainOnNextPrestige: Decimal;\n    prestigeSkills: Array<PrestigeSkill>\n    basePlayer: Player;\n\n    constructor(data: PrestigeData) {\n        this.pointsToGainOnNextPrestige = data.pointsToGainOnNextPrestige ? new Decimal(data.pointsToGainOnNextPrestige) : new Decimal(0);\n        this.prestigeSkills = []\n        this.loadPrestigeSkills(data.prestigeSkills);\n        this.points = data.points ? new Decimal(data.points) : new Decimal(0);\n        this.count = data.count ? data.count : 0;\n        this.basePlayer = data.basePlayer ? new Player(data.basePlayer) : new Player(initialPlayer);\n    }\n\n    applyPrestigeSkills(gameState: GameState) {\n        this.prestigeSkills.forEach(prestigeSkill => {\n            prestigeSkill.applySkill(gameState)\n        });\n    }\n\n    unlockPrestigeSkill(prestigeSkill: PrestigeSkill) {\n        const prestigeSkillUnlocked = this.prestigeSkills.some(prestigeSkillItem => {\n            if (prestigeSkillItem.id === prestigeSkill.id) {\n                return true;\n            }\n\n            return false;\n        });\n\n        if (!prestigeSkillUnlocked) {\n            this.prestigeSkills.push(prestigeSkill);\n        }\n    }\n\n    loadPrestigeSkills(prestigeSkills?: Array<PrestigeSkill | PrestigeSkillData>) {\n        if (!prestigeSkills) {\n            return;\n        }\n\n        for (const prestigeSkill of prestigeSkills) {\n            const createdPrestigeSkill = createPrestigeSkill(prestigeSkill)\n            this.unlockPrestigeSkill(createdPrestigeSkill);\n        }\n    }\n\n    addPoints(pointsToAdd: Decimal) {\n        this.pointsToGainOnNextPrestige = this.pointsToGainOnNextPrestige.add(pointsToAdd);\n    }\n\n    spendPoints(pointsToSpend: Decimal | number) {\n        if (this.points.greaterThanOrEqualTo(pointsToSpend)) {\n            this.points = this.points.minus(pointsToSpend);\n            return true;\n        }\n\n        return false;\n    }\n\n    getRequiredLevel() {\n        return MINIMUM_LEVEL_REQUIRED_TO_PRESTIGE;\n    }\n\n    isPretigeAvailable(gameState: GameState) {\n        if (gameState.player.getTotalLevel().greaterThanOrEqualTo(MINIMUM_LEVEL_REQUIRED_TO_PRESTIGE)) {\n            return true;\n        }\n\n        return false;\n    }\n\n    getStatMultiplierOnPrestige(gameState: GameState) {\n        return gameState.modifierManager.modifyNumber(STAT_MULTIPLIER_ON_PRESTIGE, AllModifiers.prestigeStatsGain);\n    }\n\n    activatePrestige(gameState: GameState) {\n        if (this.isPretigeAvailable(gameState)) {\n            const statMultiplier = this.getStatMultiplierOnPrestige(gameState);\n            const gainedStats = gameState.player.stats.subtractStatsValue(this.basePlayer.stats);\n            this.basePlayer.stats.addStats(gainedStats.multiplyAllStatsValue(statMultiplier));\n            this.count = this.count + 1;\n            this.points = this.points.plus(this.pointsToGainOnNextPrestige);\n            this.pointsToGainOnNextPrestige = new Decimal(0);\n            const newPlayer = new Player(this.basePlayer);\n            gameState.setPlayer(newPlayer);\n        }\n    }\n}","import Battle, { BattleData } from './battle/battle';\nimport History, { HistoryData } from './history/history';\nimport ModifierManager, { ModifierManagerData } from './modifiers/modifierManager';\nimport Player, { PlayerData } from './player/player';\nimport Prestige, { PrestigeData } from './prestige/prestige';\n\nexport const BASE_GAME_TOPIC = 'gameState';\nexport const GAME_LOOP_TOPIC = BASE_GAME_TOPIC + '.gameLoop';\n\nexport type GameLoopData = {\n    frameTime: number,\n    gameState: GameState\n}\n\nexport type GameLoopFunction = (message: string, data: GameLoopData) => void\nexport type ExecutableLoopFunction = (data: GameLoopData) => void\n\nexport type LoopSubscriptions = {\n    [key in string]: {\n        timeInterval?: number,\n        executableLoopFunction: ExecutableLoopFunction,\n        timeSinceLastExecution: number,\n    }\n}\n\nexport interface GameStateData {\n    player: Player | PlayerData;\n    prestige: Prestige | PrestigeData;\n    fps?: number;\n    lastExecutionTime?: number;\n    history?: History | HistoryData;\n    modifierManager?: ModifierManager | ModifierManagerData\n}\n\nexport default class GameState {\n    player: Player;\n    prestige: Prestige;\n    fps: number;\n    lastExecutionTime: number | undefined;\n    loopSubscriptions: LoopSubscriptions;\n    battle: Battle | undefined;\n    history: History;\n    modifierManager: ModifierManager\n\n\n    constructor(data: GameStateData) {\n        this.player = new Player(data.player);\n        this.prestige = new Prestige(data.prestige);\n        this.fps = data.fps ? data.fps : 30;\n        this.lastExecutionTime = undefined;\n        this.loopSubscriptions = {};\n        this.history = data.history ? new History(data.history) : new History({});\n        this.modifierManager = data.modifierManager ? new ModifierManager(data.modifierManager) : new ModifierManager({});\n        this.prestige.applyPrestigeSkills(this);\n    }\n\n    setPlayer(player: Player) {\n        this.player = player;\n    }\n\n    addLoopSubscription(id: string, executableLoopFunction: ExecutableLoopFunction, timeInterval?: number) {\n        this.loopSubscriptions[id] = {\n            timeInterval: timeInterval,\n            executableLoopFunction: executableLoopFunction,\n            timeSinceLastExecution: 0,\n        }\n    }\n\n    removeSubscriptions(ids: string[]) {\n        for (const id of ids) {\n            if (this.loopSubscriptions[id]) {\n                delete this.loopSubscriptions[id];\n            }\n        }\n    }\n\n    executeLoopFunction(id: string, data: GameLoopData) {\n        const loopSubscription = this.loopSubscriptions[id];\n        if (loopSubscription) {\n            if (loopSubscription.timeInterval) {\n                loopSubscription.timeSinceLastExecution += data.frameTime;\n                if (loopSubscription.timeSinceLastExecution / 1000 >= loopSubscription.timeInterval) {\n                    loopSubscription.executableLoopFunction(data);\n                    loopSubscription.timeSinceLastExecution = 0;\n                }\n            } else {\n                loopSubscription.executableLoopFunction(data);\n            }\n        }\n    }\n\n    gameLoop(executionTime: number) {\n        let frameTime = 0;\n        if (this.lastExecutionTime) {\n            frameTime = executionTime - this.lastExecutionTime;\n        }\n        const gameLoopData: GameLoopData = {\n            gameState: this,\n            frameTime: frameTime\n        }\n        Object.keys(this.loopSubscriptions).forEach(key => {\n            this.executeLoopFunction(key, gameLoopData);\n        });\n        this.lastExecutionTime = executionTime;\n    }\n}","import Player from \"../../player/player\";\nimport Prestige from \"../../prestige/prestige\";\nimport initialPlayer from \"./initialPlayer\";\n\nconst defaultGameState = {\n    player: new Player(initialPlayer),\n    prestige: new Prestige({})\n}\n\nexport default defaultGameState;","import { createContext } from \"react\";\nimport GameState from \"../game/gameState\";\nimport defaultGameState from \"../game/storage/state/initialGameState\";\n\nconst GameContext = createContext({\n    gameState: new GameState(defaultGameState),\n    lastFrameTime: performance.now()\n});\nexport default GameContext;","import { Progress } from \"antd\";\nimport { useContext } from \"react\";\nimport GameContext from \"../gameContext\";\n\nexport type GameLoopProgressData = {\n    gameLoopId: string,\n    rate?: number\n}\n\n\nexport default function GameLoopProgress({ gameLoopId, rate }: GameLoopProgressData) {\n    const appState = useContext(GameContext);\n    const gameState = appState.gameState;\n\n    const getPercentageUntilNextExecution = () => {\n        if (gameState.loopSubscriptions[gameLoopId] && rate) {\n            const timeDifference = gameState.loopSubscriptions[gameLoopId].timeSinceLastExecution / 1000;\n            return timeDifference / rate * 100;\n        }\n\n        return 0;\n\n    }\n\n    return (\n        <Progress percent={getPercentageUntilNextExecution()} showInfo={false} />\n    )\n}","export default function toCapitalizedWords(name?: string, empty = 'Unknown') {\n    if (!name) {\n        return empty;\n    }\n    var words = name.match(/[A-Za-z][a-z]*/g) || [];\n\n    return words.map(capitalize).join(\" \");\n}\n\nfunction capitalize(word: string) {\n    return word.charAt(0).toUpperCase() + word.substring(1);\n}","import { Avatar, Button, Space, Typography } from \"antd\";\nimport { useContext } from \"react\";\nimport { GiBrainTentacle, GiBrute, GiCharacter, GiSpectre } from \"react-icons/gi\";\nimport Battle from \"../game/battle/battle\";\nimport { AllBosses } from \"../game/battle/bosses/allBosses\";\nimport getNextBossId from \"../game/battle/bosses/bossFightOrder\";\nimport initializeBoss from \"../game/battle/bosses/iniitializeBoss\";\nimport { BOSS_ATTACK_LOOP_ID, PLAYER_ATTACK_LOOP_ID } from \"../game/loopFunctions/battle/battleEntityAttack\";\nimport GameLoopProgress from \"./components/gameLoopProgress\";\nimport GameContext from \"./gameContext\";\nimport toCapitalizedWords from \"./helpers/capitalizeAndAddSpacing\";\n\nconst bossIconMap = {\n    [AllBosses.brute]: (<GiBrute />),\n    [AllBosses.spectre]: (<GiSpectre />),\n    [AllBosses.brain]: (<GiBrainTentacle />),\n}\n\nexport default function BossBattle() {\n    const appState = useContext(GameContext);\n    const battle = appState.gameState.battle;\n    const nextBossId = getNextBossId(appState.gameState);\n\n    function createPlayerDisplay(bossBattle: Battle) {\n        return (\n            <Space direction=\"vertical\">\n                <Typography.Title>Player</Typography.Title>\n                <Avatar size=\"large\" icon={<GiCharacter />} />\n                <GameLoopProgress gameLoopId={PLAYER_ATTACK_LOOP_ID} rate={bossBattle.player.attackInterval} />\n                <Typography.Text>HP: {bossBattle.player.hp.toString()}</Typography.Text>\n                <Typography.Text>Attack: {bossBattle.player.attackValue.toString()}</Typography.Text>\n                <Typography.Text>Defense: {bossBattle.player.defenseValue.toString()}</Typography.Text>\n            </Space>\n        )\n    }\n\n    function createBossDisplay(bossBattle: Battle) {\n        const bossIcon = bossIconMap[bossBattle.boss.id];\n        return (\n            <Space direction=\"vertical\">\n                <Typography.Title>{toCapitalizedWords(bossBattle.boss.name, 'Boss')}</Typography.Title>\n                <Avatar size=\"large\" icon={bossIcon} />\n                <GameLoopProgress gameLoopId={BOSS_ATTACK_LOOP_ID} rate={bossBattle.boss.attackInterval} />\n                <Typography.Text>HP: {bossBattle.boss.hp.toString()}</Typography.Text>\n                <Typography.Text>Attack: {bossBattle.boss.attackValue.toString()}</Typography.Text>\n                <Typography.Text>Defense: {bossBattle.boss.defenseValue.toString()}</Typography.Text>\n                <Typography.Text>Reward:</Typography.Text>\n                <Typography.Text>Prestige Points: {bossBattle.boss.prestigePoints.toString()}</Typography.Text>\n            </Space>\n        )\n    }\n\n    function createPreFightDisplay(bossId: AllBosses) {\n        const bossIcon = bossIconMap[bossId];\n        const boss = initializeBoss(bossId);\n        return (\n            <Space direction=\"vertical\">\n                <Typography.Title>{toCapitalizedWords(boss.name, 'Boss')}</Typography.Title>\n                <Avatar size=\"large\" icon={bossIcon} />\n                <Typography.Text>HP: {boss.hp.toString()}</Typography.Text>\n                <Typography.Text>Attack: {boss.attackValue.toString()}</Typography.Text>\n                <Typography.Text>Defense: {boss.defenseValue.toString()}</Typography.Text>\n                <Typography.Text>Player Attack Stat: {boss.playerAttackStat}</Typography.Text>\n                <Typography.Text>Player Defense Stat: {boss.playerDefenseStat}</Typography.Text>\n                <Typography.Text>Reward:</Typography.Text>\n                <Typography.Text>Prestige Points: {boss.prestigePoints.toString()}</Typography.Text>\n            </Space>\n        )\n    }\n\n    function startFightClickHandler() {\n        if (nextBossId) {\n            appState.gameState.battle = new Battle({\n                bossId: nextBossId,\n                gameState: appState.gameState\n            });\n        }\n    }\n\n    const createBattleDisplay = () => {\n        if (battle) {\n            return (\n                <Space direction=\"horizontal\">\n                    {createPlayerDisplay(battle)}\n                    {createBossDisplay(battle)}\n                </Space>\n            )\n        }\n\n        if (nextBossId) {\n            return createPreFightDisplay(nextBossId);\n\n        }\n\n        return (\n            <Typography.Text>No more bosses left to fight</Typography.Text>\n        )\n    }\n\n    const fightButtonDisabled = battle || !nextBossId ? true : false;\n\n    return (\n        <Space direction=\"vertical\">\n            <Button onClick={startFightClickHandler} disabled={fightButtonDisabled}>Start Fight</Button>\n            {createBattleDisplay()}\n        </Space>\n    )\n}","import { Col, Divider, List, Row, Space, Typography } from \"antd\";\nimport { useContext } from \"react\";\nimport { AllClasses } from \"../game/classes/allClasses\";\nimport GameContext from \"./gameContext\";\nimport toCapitalizedWords from \"./helpers/capitalizeAndAddSpacing\";\n\nexport default function ClassPicker() {\n    const appState = useContext(GameContext);\n    const gameState = appState.gameState;\n    const player = gameState.player;\n\n    const createChangeActiveClassHandler = (classId: AllClasses) => {\n        return () => {\n            return player.makeClassActive(classId);\n        }\n    }\n\n    const generateClassListItem = (classId: AllClasses) => {\n        const classModifier = player.getClassModifier(classId);\n        return (\n            <List.Item key={'unlocked-' + classId} onClick={createChangeActiveClassHandler(classId)} style={{ display: 'block' }}>\n                <Typography.Title>{toCapitalizedWords(classModifier.getName(), 'Select a class to make active')}</Typography.Title>\n                <Row gutter={16}>\n                    <Col span={8}>\n                        <Space direction=\"vertical\">\n                            <Typography.Text>Level: {classModifier.level.toString()}</Typography.Text>\n                            <Typography.Text>Experience: {classModifier.experience.toString()}</Typography.Text>\n                            <Typography.Text>Experience to Level: {classModifier.getExperienceRequiredToLevel().toString()}</Typography.Text>\n                        </Space>\n                    </Col>\n                    <Col span={8}>\n                        <Space direction=\"vertical\">\n                            <Typography.Text>Strength: {classModifier.getModifiedStats(gameState).strength.toString()}</Typography.Text>\n                            <Typography.Text>Toughness: {classModifier.getModifiedStats(gameState).toughness.toString()}</Typography.Text>\n                            <Typography.Text>Dexterity: {classModifier.getModifiedStats(gameState).dexterity.toString()}</Typography.Text>\n                        </Space>\n                    </Col>\n                    <Col span={8}>\n                        <Space direction=\"vertical\">\n                            <Typography.Text>Intelligence: {classModifier.getModifiedStats(gameState).intelligence.toString()}</Typography.Text>\n                            <Typography.Text>Wisdom: {classModifier.getModifiedStats(gameState).wisdom.toString()}</Typography.Text>\n                            <Typography.Text>Charisma: {classModifier.getModifiedStats(gameState).charisma.toString()}</Typography.Text>\n                        </Space>\n                    </Col>\n                </Row>\n                <Divider />\n            </List.Item>\n        )\n    }\n\n    const generateActiveClassesDisplay = () => {\n        return player.activeClasses.map((classId) => {\n            const classModifier = player.getClassModifier(classId);\n            return (\n                <Typography.Title key={'active-' + classId} level={2}>{toCapitalizedWords(classModifier.getName(), 'Select a class to make active')} {classModifier.level.toString()}</Typography.Title>\n            )\n        });\n    }\n\n    return (\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n            <Divider>Active Classes ({player.activeClasses.length}/{player.activeClassLimit})</Divider>\n            {generateActiveClassesDisplay()}\n            <Divider>Unlocked Classes</Divider>\n            <List\n                dataSource={player.unlockedClasses}\n                renderItem={item => generateClassListItem(item)}\n                size=\"large\"\n                bordered\n                itemLayout=\"vertical\"\n            />\n        </Space>\n    )\n}","import { useContext } from \"react\";\nimport GameContext from \"./gameContext\";\nimport { Avatar, Button, Divider, List, Space, Typography } from \"antd\";\nimport { AllPrestigeSkills } from \"../game/prestige/allPrestigeSkills\";\nimport { GiAura, GiJumpingRope, GiKimono, GiRead } from \"react-icons/gi\";\nimport toCapitalizedWords from \"./helpers/capitalizeAndAddSpacing\";\nimport PrestigeSkill from \"../game/prestige/prestigeSkill\";\n\nconst PRESTIGE_SKILL_ICON_MAP = {\n    [AllPrestigeSkills.improvedConsolidating]: (<GiAura />),\n    [AllPrestigeSkills.improvedLearning]: (<GiRead />),\n    [AllPrestigeSkills.improvedTraining]: (<GiJumpingRope />),\n    [AllPrestigeSkills.monkMastery]: (<GiKimono />),\n}\n\nexport default function PrestigeActivation() {\n    const appState = useContext(GameContext);\n    const gameState = appState.gameState;\n    const player = gameState.player;\n    const prestige = gameState.prestige;\n\n    const prestigeClick = () => {\n        prestige.activatePrestige(gameState);\n    }\n\n    const createPrestigeSkillClickHandler = (prestigeSkill: PrestigeSkill) => {\n        return () => {\n            prestigeSkill.increaseLevel(gameState);\n        }\n    }\n\n    const createPrestigeSkillGrid = () => {\n        if (!prestige.prestigeSkills.length) {\n            return null;\n        }\n\n        return (\n            <List\n                grid={{\n                    gutter: 16,\n                }}\n                dataSource={prestige.prestigeSkills}\n                renderItem={prestigeSkill => (\n                    <List.Item onClick={createPrestigeSkillClickHandler(prestigeSkill)}>\n                        <Space direction=\"vertical\">\n                            <Avatar size=\"large\" icon={PRESTIGE_SKILL_ICON_MAP[prestigeSkill.id]}></Avatar>\n                            <Typography.Text>{toCapitalizedWords(prestigeSkill.name)}</Typography.Text>\n                            <Typography.Text>{prestigeSkill.currentLevel}/{prestigeSkill.maxLevel}</Typography.Text>\n                            <Typography.Text>Cost: {prestigeSkill.cost}</Typography.Text>\n                        </Space>\n                    </List.Item>\n                )}\n            />\n        )\n    }\n\n    return (\n        <Space direction=\"vertical\">\n            <Typography.Text>Prestige Points: {prestige.points.toString()}</Typography.Text>\n            <Typography.Text>You must reach a high enough level to prestige: {player.getTotalLevel().toString()}/{prestige.getRequiredLevel().toString()}</Typography.Text>\n            <Typography.Text>{prestige.getStatMultiplierOnPrestige(gameState) * 100}% of your current stats will be added to your base stats on reset</Typography.Text>\n            <Typography.Text>You will lose discovered zones</Typography.Text>\n            <Typography.Text>You will lose unlocked classes</Typography.Text>\n            <Typography.Text>Points gained on prestige: {prestige.pointsToGainOnNextPrestige.toString()}</Typography.Text>\n            <Button disabled={!prestige.isPretigeAvailable(gameState)} onClick={prestigeClick}>Prestige</Button>\n            <Divider>Skills</Divider>\n            {createPrestigeSkillGrid()}\n        </Space>\n    )\n}","import GameState from \"../gameState\";\n\nexport const GAME_SAVE_KEY = 'iliumIdleClasser';\n\nexport default function saveGame(gameState: GameState) {\n    return saveGameToLocalStorage(gameState);\n}\n\nfunction saveGameToLocalStorage(gameState: GameState) {\n    window.localStorage.setItem(GAME_SAVE_KEY, JSON.stringify(gameState));\n}","import GameState, { GameStateData } from \"../gameState\";\nimport { GAME_SAVE_KEY } from \"./saveGame\";\nimport defaultGameState from \"./state/initialGameState\";\n\nexport const LOCAL_STORAGE_SAVE_TYPE = 'localStorage';\n\nexport default function loadGame(saveType = LOCAL_STORAGE_SAVE_TYPE) {\n    return loadGameFromLocalStorage();\n}\n\nfunction loadGameFromLocalStorage() {\n    const gameData = window.localStorage.getItem(GAME_SAVE_KEY);\n\n    if (gameData) {\n        try {\n            return new GameState(JSON.parse(gameData) as GameStateData);\n        } catch (err) {\n            console.log('Failed to load game state');\n            console.log(err);\n        }\n    }\n\n    return new GameState(defaultGameState);\n}","import { LOCAL_STORAGE_SAVE_TYPE } from \"./loadGame\";\nimport { GAME_SAVE_KEY } from \"./saveGame\";\n\nexport default function clearSavedGame(saveType = LOCAL_STORAGE_SAVE_TYPE) {\n    clearSavedGameFromLocalStorage();\n}\n\nfunction clearSavedGameFromLocalStorage() {\n    window.localStorage.removeItem(GAME_SAVE_KEY);\n}","import { Button, Space } from \"antd\";\nimport { useContext } from \"react\";\nimport clearSavedGame from \"../game/storage/clearSavedGame\";\nimport GameContext from \"./gameContext\";\n\nexport default function SettingsPanel() {\n    const appState = useContext(GameContext);\n\n    const clearSavedGameDataHandler = () => {\n        clearSavedGame();\n        window.location.reload();\n    }\n\n    return (\n        <Space direction=\"vertical\">\n            <Button onClick={clearSavedGameDataHandler}>Clear Saved Data</Button>\n        </Space>\n    )\n}","import { Divider, Space, Typography } from \"antd\";\nimport { useContext } from \"react\";\nimport GameContext from \"./gameContext\";\n\nconst { Text } = Typography;\n\nexport default function StatsViewer() {\n    const appState = useContext(GameContext);\n    const player = appState.gameState.player;\n\n    const createStatsPanel = () => {\n        return (\n            <Space direction=\"vertical\">\n                <Divider>Stats</Divider>\n                <Text>Strength: {player.stats.strength.toString()}</Text>\n                <Text>Toughness: {player.stats.toughness.toString()}</Text>\n                <Text>Dexterity: {player.stats.dexterity.toString()}</Text>\n                <Text>Wisdom: {player.stats.wisdom.toString()}</Text>\n                <Text>Intelligence: {player.stats.intelligence.toString()}</Text>\n                <Text>Charisma: {player.stats.charisma.toString()}</Text>\n            </Space>\n        );\n    }\n\n    const createLevelsPanel = () => {\n        return (\n            <Space direction=\"vertical\">\n                <Divider>Levels</Divider>\n                <Text>Level: {player.getTotalLevel().toString()}</Text>\n                {Object.values(player.classModifiers).map(classModifier => {\n                    return (\n                        <Text key={'levels-' + classModifier.classId}>{toCapitalizedWords(classModifier.getName())} level: {classModifier.level.toString()}</Text>\n                    )\n                })}\n            </Space>\n        );\n    }\n\n    const createActivityPanel = () => {\n        const activeZoneName = player.activeZone ? toCapitalizedWords(player.activeZone) : 'No Active Zone';\n        return (\n            <Space direction=\"vertical\">\n                <Divider>Activity</Divider>\n                <Typography.Title level={5}>Active Zone: {activeZoneName}</Typography.Title>\n                <Typography.Title level={5}>Active Classes</Typography.Title>\n                {player.activeClasses.map(classId => {\n                    const classModifier = player.getClassModifier(classId);\n                    return (\n                        <Text key={'activity-' + classId}>{toCapitalizedWords(classModifier.getName())} - {classModifier.level.toString()} - ({classModifier.experience.toString()}/{classModifier.getExperienceRequiredToLevel().toString()})</Text>\n                    )\n                })}\n            </Space>\n        );\n    }\n\n    function toCapitalizedWords(name: string) {\n        var words = name.match(/[A-Za-z][a-z]*/g) || [];\n\n        return words.map(capitalize).join(\" \");\n    }\n\n    function capitalize(word: string) {\n        return word.charAt(0).toUpperCase() + word.substring(1);\n    }\n\n    return (\n        <Space direction=\"horizontal\">\n            {createStatsPanel()}\n            {createLevelsPanel()}\n            {createActivityPanel()}\n        </Space>\n    )\n}","import { GameLoopData } from \"../../gameState\";\n\nexport const ZONE_LOOP_ID = \"zone\";\n\nexport default function gainRewards(data: GameLoopData) {\n    console.log(data);\n    data.gameState.player.addExperienceToActiveClasses(data.gameState);\n}","import { Col, Divider, List, Row, Space, Typography } from \"antd\";\nimport { useContext } from \"react\";\nimport gainRewards, { ZONE_LOOP_ID } from \"../game/loopFunctions/zones/gainRewards\";\nimport { AllZones } from \"../game/zones/allZones\";\nimport GameLoopProgress from \"./components/gameLoopProgress\";\nimport GameContext from \"./gameContext\";\nimport toCapitalizedWords from \"./helpers/capitalizeAndAddSpacing\";\n\nexport default function ZonePicker() {\n    const appState = useContext(GameContext);\n    const gameState = appState.gameState;\n\n    const createSetActiveZoneHandler = (zoneId: AllZones) => {\n        return () => {\n            gameState.player.makeZoneActive(zoneId);\n            gameState.addLoopSubscription(ZONE_LOOP_ID, gainRewards, gameState.player.getZoneModifier(zoneId).getRate());\n        }\n    }\n\n    const generateZoneListItem = (zoneId: AllZones) => {\n        const zoneModifier = gameState.player.getZoneModifier(zoneId);\n        return (\n            <List.Item onClick={createSetActiveZoneHandler(zoneId)} style={{ display: 'block' }}>\n                <Typography.Title>{toCapitalizedWords(zoneModifier.getName())}</Typography.Title>\n                <Row gutter={16}>\n                    <Col span={8}>\n                        <Space direction=\"vertical\">\n                            <Typography.Text>Time to Complete: {zoneModifier.getRate().toString()}s</Typography.Text>\n                            <Typography.Text>Minimum Exp Reward: {zoneModifier.getModifiedMinExp().toString()}</Typography.Text>\n                            <Typography.Text>Maximum Exp Reward: {zoneModifier.getModifiedMaxExp().toString()}</Typography.Text>\n                        </Space>\n                    </Col>\n                    <Col span={8}>\n                        <Space direction=\"vertical\">\n                            <Typography.Text>Strength: {zoneModifier.getStats().strength.toString()}</Typography.Text>\n                            <Typography.Text>Toughness: {zoneModifier.getStats().toughness.toString()}</Typography.Text>\n                            <Typography.Text>Dexterity: {zoneModifier.getStats().dexterity.toString()}</Typography.Text>\n                        </Space>\n                    </Col>\n                    <Col span={8}>\n                        <Space direction=\"vertical\">\n                            <Typography.Text>Intelligence: {zoneModifier.getStats().intelligence.toString()}</Typography.Text>\n                            <Typography.Text>Wisdom: {zoneModifier.getStats().wisdom.toString()}</Typography.Text>\n                            <Typography.Text>Charisma: {zoneModifier.getStats().charisma.toString()}</Typography.Text>\n                        </Space>\n                    </Col>\n                </Row>\n                <Divider />\n            </List.Item>\n        )\n    }\n\n    return (\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n            <Typography.Title level={2}>{toCapitalizedWords(gameState.player.activeZone, 'Select a zone to make active')}</Typography.Title>\n            <GameLoopProgress gameLoopId={ZONE_LOOP_ID} rate={gameState.player.getActiveZone()?.getRate()} />\n            <List\n                dataSource={gameState.player.discoveredZones}\n                renderItem={item => generateZoneListItem(item)}\n                size=\"large\"\n                bordered\n                itemLayout=\"vertical\"\n            />\n        </Space>\n    )\n}","import { Layout, Menu } from 'antd';\nimport { useState } from 'react';\nimport { GiCharacter, GiSkills, GiWorld, GiUpgrade, GiCog, GiBossKey } from 'react-icons/gi';\nimport BossBattle from './bossBattle';\nimport ClassPicker from './classPicker';\nimport PrestigeActivation from './prestigeActivation';\nimport SettingsPanel from './settingsPanel';\nimport StatsViewer from './statsViewer';\nimport ZonePicker from './zonePicker';\n\nconst { Header, Content, Sider } = Layout;\n\nexport default function PageLayout() {\n    const [mainContent, setMainContent] = useState(<ClassPicker />);\n\n    const showClassPicker = () => {\n        setMainContent(<ClassPicker />);\n    }\n\n    const showStatsViewer = () => {\n        setMainContent(<StatsViewer />);\n    }\n\n    const showZonePicker = () => {\n        setMainContent(<ZonePicker />);\n    }\n\n    const showPrestigeActivation = () => {\n        setMainContent(<PrestigeActivation />);\n    }\n\n    const showSettingsPanel = () => {\n        setMainContent(<SettingsPanel />);\n    }\n\n    const showBossBattle = () => {\n        setMainContent(<BossBattle />);\n    }\n\n    return (\n        <Layout>\n            <Sider\n                style={{\n                    overflow: 'auto',\n                    height: '100vh',\n                    position: 'fixed',\n                    left: 0,\n                }}\n            >\n                <div className=\"logo\" />\n                <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']}>\n                    <Menu.Item key=\"1\" onClick={showClassPicker} icon={<GiCharacter />}>\n                        Class\n                    </Menu.Item>\n                    <Menu.Item key=\"2\" onClick={showStatsViewer} icon={<GiSkills />}>\n                        Stats\n                    </Menu.Item>\n                    <Menu.Item key=\"3\" onClick={showZonePicker} icon={<GiWorld />}>\n                        Zone\n                    </Menu.Item>\n                    <Menu.Item key=\"4\" onClick={showPrestigeActivation} icon={<GiUpgrade />}>\n                        Prestige\n                    </Menu.Item>\n                    <Menu.Item key=\"5\" onClick={showBossBattle} icon={<GiBossKey />}>\n                        Boss\n                    </Menu.Item>\n                    <Menu.Item key=\"6\" onClick={showSettingsPanel} icon={<GiCog />}>\n                        Settings\n                    </Menu.Item>\n                </Menu>\n            </Sider>\n            <Layout className=\"site-layout\" style={{ marginLeft: 200 }}>\n                <Header className=\"site-layout-background\" style={{ padding: 0 }} />\n                <Content style={{ margin: '24px 16px 0', overflow: 'initial' }}>\n                    <div className=\"site-layout-background\" style={{ padding: 24, textAlign: 'center' }}>\n                        {mainContent}\n                    </div>\n                </Content>\n            </Layout>\n        </Layout>\n    )\n}","import GameState from \"../gameState\";\nimport UnlockRequirement from \"./unlockRequirement\";\n\nexport default function meetsAllUnlockRequirements(gameState: GameState, unlockRequirements: Array<UnlockRequirement>): boolean {\n    for (const unlockRequirement of unlockRequirements) {\n        if (!unlockRequirement.requirementsMet(gameState)) {\n            return false;\n        }\n    }\n\n    return true;\n}","import { AllPrestigeSkills } from \"../allPrestigeSkills\";\nimport ImprovedConsolidatingPrestigeSkill from \"./improvedConsolidating\";\nimport ImprovedLearningPrestigeSkill from \"./improvedLearning\";\nimport ImprovedTrainingPrestigeSkill from \"./improvedTraining\";\nimport MonkMasteryPrestigeSkill from \"./monkMastery\";\n\nconst allPrestigeSkillsInitialized = {\n    [AllPrestigeSkills.improvedConsolidating]: new ImprovedConsolidatingPrestigeSkill({}),\n    [AllPrestigeSkills.improvedLearning]: new ImprovedLearningPrestigeSkill({}),\n    [AllPrestigeSkills.improvedTraining]: new ImprovedTrainingPrestigeSkill({}),\n    [AllPrestigeSkills.monkMastery]: new MonkMasteryPrestigeSkill({}),\n}\n\nexport default allPrestigeSkillsInitialized;","import { GameLoopData } from \"../../gameState\";\nimport unlockClasses from \"./unlockClasses\";\nimport unlockPrestigeSkills from \"./unlockPrestigeSkills\";\nimport unlockZones from \"./unlockZones\";\n\nexport const UNLOCK_UNLOCKABLES_LOOP_ID = \"unlockUnlockables\";\n\nexport default function unlockAllUnlockables(data: GameLoopData) {\n    unlockClasses(data.gameState);\n    unlockZones(data.gameState);\n    unlockPrestigeSkills(data.gameState);\n}","import allClassesInitialized from \"../../classes/allClassesInitialized\";\nimport GameState from \"../../gameState\";\nimport meetsAllUnlockRequirements from \"../../unlockables/meetsAllUnlockRequirements\";\n\nexport default function unlockClasses(gameState: GameState) {\n    Object.values(allClassesInitialized).forEach(playerClass => {\n        if (meetsAllUnlockRequirements(gameState, playerClass.unlockRequirements)) {\n            gameState.player.unlockClass(playerClass.id);\n        }\n    });\n}","import GameState from \"../../gameState\";\nimport meetsAllUnlockRequirements from \"../../unlockables/meetsAllUnlockRequirements\";\nimport allZonesInitialized from \"../../zones/allZonesInitialized\";\n\nexport default function unlockZones(gameState: GameState) {\n    Object.values(allZonesInitialized).forEach(zone => {\n        if (meetsAllUnlockRequirements(gameState, zone.unlockRequirements)) {\n            gameState.player.unlockZone(zone.id);\n        }\n    });\n}","import GameState from \"../../gameState\";\nimport allPrestigeSkillsInitialized from \"../../prestige/prestigeSkills/allPrestigeSkillsInitialized\";\nimport meetsAllUnlockRequirements from \"../../unlockables/meetsAllUnlockRequirements\";\n\nexport default function unlockPrestigeSkills(gameState: GameState) {\n    Object.values(allPrestigeSkillsInitialized).forEach(prestigeSkill => {\n        if (meetsAllUnlockRequirements(gameState, prestigeSkill.unlockRequirements)) {\n            gameState.prestige.unlockPrestigeSkill(prestigeSkill);\n        }\n    });\n}","import { GameLoopData } from \"../../gameState\";\nimport saveGame from \"../../storage/saveGame\";\n\nexport const SAVE_GAME_LOOP_ID = 'saveGame';\n\nexport default function saveGameLoopFunction(data: GameLoopData) {\n    saveGame(data.gameState);\n}","import PageLayout from \"./ui/pageLayout\";\nimport \"./App.css\";\nimport React from \"react\";\nimport GameContext from \"./ui/gameContext\";\nimport useInterval from \"./useInterval\";\nimport unlockAllUnlockables, { UNLOCK_UNLOCKABLES_LOOP_ID } from \"./game/loopFunctions/unlockables/allUnlockables\";\nimport saveGameLoopFunction, { SAVE_GAME_LOOP_ID } from \"./game/loopFunctions/storage/saveGame\";\nimport loadGame from \"./game/storage/loadGame\";\nimport gainRewards, { ZONE_LOOP_ID } from \"./game/loopFunctions/zones/gainRewards\";\nimport Decimal from \"decimal.js\";\n\nconst PRECISION_SIZE = 5;\nDecimal.config({ precision: PRECISION_SIZE });\n\nexport default function App() {\n  const [gameState, setGameState] = React.useState(loadGame());\n  const [lastFrameTime, setLastFrameTime] = React.useState(performance.now());\n\n  const appState = {\n    gameState,\n    lastFrameTime\n  }\n\n  if (!gameState.loopSubscriptions[UNLOCK_UNLOCKABLES_LOOP_ID]) {\n    gameState.addLoopSubscription(UNLOCK_UNLOCKABLES_LOOP_ID, unlockAllUnlockables, 2);\n  }\n\n  if (!gameState.loopSubscriptions[SAVE_GAME_LOOP_ID]) {\n    gameState.addLoopSubscription(SAVE_GAME_LOOP_ID, saveGameLoopFunction, 5);\n  }\n\n  if (gameState.player.activeZone && !gameState.loopSubscriptions[ZONE_LOOP_ID]) {\n    gameState.addLoopSubscription(ZONE_LOOP_ID, gainRewards, gameState.player.getZoneModifier(gameState.player.activeZone).getRate());\n  }\n\n  useInterval(() => {\n    setLastFrameTime(performance.now());\n    gameState.gameLoop(lastFrameTime);\n  }, 1000 / gameState.fps);\n\n  return (\n    <GameContext.Provider value={appState}>\n      <PageLayout />\n    </GameContext.Provider>\n  );\n}\n","import React, { useState, useEffect, useRef } from 'react';\n\nexport default function useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}